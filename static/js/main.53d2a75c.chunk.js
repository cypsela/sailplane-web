(this["webpackJsonpsailplane-web"]=this["webpackJsonpsailplane-web"]||[]).push([[1],{116:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(3);var r=n(7),i=n(2);function c(e){var t=e.children,n=e.isError,c={container:{backgroundColor:n?r.e:r.g,color:n?"#FFF":r.l,fontSize:14,padding:6,borderRadius:4,marginBottom:8,border:r.a}};return Object(i.jsx)("div",{style:c.container,children:t})}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(3);var r=n(7),i=n(22),c=n(31),o=n(2);function a(){var e=Object(c.d)((function(e){return e.tempData.status})),t=e.message,n=e.isError,a=e.isInfo,s={container:{position:"fixed",bottom:10,backgroundColor:n?r.b:r.j,padding:8,borderRadius:4,fontFamily:"Open Sans",color:"#FFF",fontSize:14,lineHeight:14,display:"flex",alignItems:"center",height:18,opacity:t?1:0},icon:{marginRight:4}},l=i.l;n&&(l=i.a);var u=l;return Object(o.jsxs)("div",{style:s.container,children:[a?null:Object(o.jsx)(u,{color:"#FFF",size:16,style:s.icon,className:n?"":"rotating"}),Object(o.jsx)("span",{style:s.message,children:t})]})}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(3);var r=n(22),i=n(7),c=n(2),o={infoItem:{display:"flex",alignItems:"center",fontSize:14,marginBottom:8},icon:{marginRight:8,width:16,height:16,flexShrink:0}};function a(e){var t=e.title;return Object(c.jsxs)("div",{style:o.infoItem,children:[Object(c.jsx)(r.c,{color:i.m,size:16,style:o.icon}),Object(c.jsx)("span",{children:t})]})}},1330:function(e,t){},1411:function(e,t){},1419:function(e,t){},1421:function(e,t){},1497:function(e,t){},1502:function(e,t){},1588:function(e,t){},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}},1610:function(e,t){},1612:function(e,t){},1643:function(e,t){},18:function(e,t,n){"use strict";n.d(t,"h",(function(){return C})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return T})),n.d(t,"p",(function(){return N})),n.d(t,"w",(function(){return P})),n.d(t,"l",(function(){return Q})),n.d(t,"i",(function(){return U})),n.d(t,"y",(function(){return L})),n.d(t,"v",(function(){return K})),n.d(t,"m",(function(){return V})),n.d(t,"q",(function(){return W})),n.d(t,"o",(function(){return X})),n.d(t,"f",(function(){return q})),n.d(t,"x",(function(){return G})),n.d(t,"z",(function(){return Y})),n.d(t,"t",(function(){return Z})),n.d(t,"s",(function(){return J})),n.d(t,"A",(function(){return _})),n.d(t,"a",(function(){return $})),n.d(t,"D",(function(){return ee})),n.d(t,"j",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"c",(function(){return re})),n.d(t,"e",(function(){return ie})),n.d(t,"C",(function(){return ce})),n.d(t,"d",(function(){return oe})),n.d(t,"b",(function(){return se})),n.d(t,"B",(function(){return le})),n.d(t,"g",(function(){return ue})),n.d(t,"r",(function(){return de}));var r=n(15),i=n(19),c=n(71),o=n(1),a=n.n(o),s=n(96),l=n.n(s),u=n(307),d=n.n(u),f=n(22),b=n(48),j=n(464),p=n.n(j),O=n(811),x=n.n(O),h=n(97),m=n.n(h),g=n(32),v=n(812),y=n(34);n(482);function C(e,t){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(a.a.mark((function e(t,n){var r,i,o,s,l,u,d,f,b,j,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.content,i=t.size,o=[],s=0,l=Math.round(i/25e4),u=!1,d=!1,e.prev=6,b=Object(c.a)(r);case 8:return e.next=10,b.next();case 10:if(!(u=!(j=e.sent).done)){e.next=18;break}p=j.value,n&&n(s,l),o.push(p),s++;case 15:u=!1,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),d=!0,f=e.t0;case 24:if(e.prev=24,e.prev=25,!u||null==b.return){e.next=29;break}return e.next=29,b.return();case 29:if(e.prev=29,!d){e.next=32;break}throw f;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",new Blob(o));case 35:case"end":return e.stop()}}),e,null,[[6,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function k(e,t,n){return A.apply(this,arguments)}function A(){return A=Object(i.a)(a.a.mark((function e(t,r,c){var o,s,l,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(0).then(n.t.bind(null,838,7));case 2:return o=e.sent,s=o.default,l=new s,u=t.split("/")[t.split("/").length-1],e.next=8,Promise.all(r.map(function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="dir"===t.type,(r=t.path.split("/"))[0]=u,i=r.join("/"),!n){e.next=8;break}e.t0=void 0,e.next=11;break;case 8:return e.next=10,C(t,c);case 10:e.t0=e.sent;case 11:o=e.t0,l.file(i,o,{dir:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,l.generateAsync({type:"blob"});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function S(e,t){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(n.get(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cat(n,{handleUpdate:r}).data();case 2:return i=e.sent,e.abrupt("return",new Blob([i]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n){return F.apply(this,arguments)}function F(){return F=Object(i.a)(a.a.mark((function e(t,r,c){var o,s,l,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.fs.tree(r).map((function(e){return{path:e,content:"dir"!==t.fs.content(e)&&t.cat(e,{handleUpdate:c})}})),e.next=3,n.e(0).then(n.t.bind(null,838,7));case 3:return s=e.sent,l=s.default,u=new l,e.next=8,Promise.all(o.map(function(){var e=Object(i.a)(a.a.mark((function e(t){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=!t.content)){e.next=5;break}e.t0=void 0,e.next=11;break;case 5:return e.t1=Blob,e.next=8,t.content.data();case 8:e.t2=e.sent,e.t3=[e.t2],e.t0=new e.t1(e.t3);case 11:i=e.t0,u.file(t.path.replace(r+"/",""),i,{dir:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,u.generateAsync({type:"blob"});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function T(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","dir"===t.fs.content(n)?z(t,n,r):I(t,n,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()(t.get(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);function Q(e,t,n,r){return H.apply(this,arguments)}function H(){return(H=Object(i.a)(a.a.mark((function e(t,n,r,i){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()(r.get(t));case 2:return c=e.sent,e.abrupt("return","dir"===c[0].type?k(n,c,i):C(c[0],i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=e.split(".");return t[t.length-1]}var M=["jpg","png","gif","mp3","wav","ogg","flac","jpeg"];function L(e){return M.includes(e.toLowerCase())}function K(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var i=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],c=-1,o=Math.pow(10,n);do{e/=r,++c}while(Math.round(Math.abs(e)*o)/o>=r&&c<i.length-1);return e.toFixed(n)+" "+i[c]}function V(e,t){return t.isDragging?t.isDropAnimating?Object(r.a)(Object(r.a)({},e),{},{transitionDuration:"0.001s"}):e:{}}function W(e,t){var n=U(t),r=f.g;return Y(n)?r=f.k:G(n)?r=f.n:!function(e){return["mp4","mov","flv","mpg","mpeg","avi"].includes(e.toLowerCase())}(n)?function(e){return["zip","tar","gz","rar","7z"].includes(e.toLowerCase())}(n)&&(r=f.b):r=f.w,"dir"===e&&(r=b.f),r}var X=function(e){var t=p.a.unix(e);return t.isBefore(p()().subtract(1,"day"))?t.format("MM/DD/YYYY"):t.format("h:mm a")},q=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function G(e){return["mp3","wav","ogg","flac"].includes(e.toLowerCase())}function Y(e){return["jpg","jpeg","png","gif"].includes(e.toLowerCase())}function Z(e){var t=0,n=0;e.forEach((function(e){var r=e.path.split("/"),i=U(r[r.length-1]);G(i)&&t++,Y(i)&&n++}));var r=J(t,e.length),i=J(n,e.length);return r>60?"audio":i>60?"image":"default"}function J(e,t){return t?Math.round(e/t*100):0}var _=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||window.RTCPeerConnection},$=function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())};function ee(e){var t=e?e.sort((function(e,t){var n=e.name,r=t.name;return $(n,r)})):[],n=t.filter((function(e){return"dir"===e.type})),r=t.filter((function(e){return"dir"!==e.type}));return n.concat(r)}var te=function(e){return e?e.filter((function(e){return Y(U(e.name))})):null},ne=!0===x.a.hasMouse;function re(e){return g.Buffer.from(m.a.publicKeyConvert(g.Buffer.from(e,"hex"),!0)).toString("hex")}function ie(e){return g.Buffer.from(m.a.publicKeyConvert(g.Buffer.from(e,"hex"),!1)).toString("hex")}function ce(e){try{return m.a.publicKeyVerify(g.Buffer.from(e,"hex"))}catch(t){return!1}}function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)};function le(e,t,n){t(Object(y.b)({message:e,isInfo:!0,isError:n})),setTimeout((function(){return t(Object(y.b)({}))}),1500)}function ue(e){var t=de(e),n=t.writers,r=t.admins,i=t.myID;return n.includes(i)||r.includes(i)}function de(e){var t=e.access.admin,n=e.access.write,r=e.access.read,i=re(e.identity.publicKey);return t=Array.from(t).map((function(e){return re(e)})),n=Array.from(n).map((function(e){return re(e)})),r=Array.from(r).map((function(e){return re(e)})).filter((function(e){return!t.includes(e)})).filter((function(e){return!n.includes(e)})),{admins:t,writers:n,readers:r,myID:i}}},1845:function(e,t){},1913:function(e,t){},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(10),i=n(3);function c(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(i.useState)(t),c=Object(r.a)(n,2),o=c[0],a=c[1];return Object(i.useEffect)((function(){if(!e)return!1;function n(){a(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),o}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(19),i=n(10),c=n(1),o=n.n(c),a=n(3),s=n(44),l=n(7),u=n(2);function d(e,t,n,c,d){var f=d.placeholder,b=d.isPassword,j=d.isError,p=d.confirmTitle,O=d.inputIconComponent,x=d.onInputIconClick,h=Object(a.useState)(c),m=Object(i.a)(h,2),g=m[0],v=m[1],y=Object(a.useState)(!1),C=Object(i.a)(y,2),w=C[0],k=C[1],A=O,S=Object(a.useRef)(null),D=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(g);case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){j&&D()}),[g]);var I={input:{border:"1px solid ".concat(w?l.b:j?l.c:l.j),borderRadius:4,color:l.f,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",flexGrow:2},inputWrapper:{display:"inline-flex",flexGrow:2,position:"relative"},acceptButton:{backgroundColor:l.j,color:"#FFF",fontSize:12,padding:"4px 5px",borderRadius:2,cursor:"pointer",zIndex:2},inputIcon:{display:"flex",alignItems:"center",height:26,position:"absolute",right:8,cursor:"pointer"}};return Object(a.useEffect)((function(){e?(S.current.focus(),S.current.select()):v(c)}),[e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:I.inputWrapper,children:[Object(u.jsx)("input",{ref:S,className:"textInput",type:b?"password":"text",placeholder:f,style:I.input,value:g,onClick:function(e){return e.stopPropagation()},onChange:function(e){return v(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(g)}}),O?Object(u.jsx)(A,{onClick:x,color:l.m,size:16,style:I.inputIcon}):null]}),Object(u.jsx)("div",{onClick:function(e){e.stopPropagation(),t(g)},style:I.acceptButton,children:p||"Accept"}),n?Object(u.jsx)(s.a,{title:"Cancel",onClick:function(){return n()},changeColor:l.l}):null]})}},197:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),i=(n(3),n(7)),c=n(47),o=n(2);function a(e){var t=e.onClose,n=e.children,a=e.isVisible,s=e.style,l=e.positionTop,u=Object(c.a)(),d={container:{position:u?"fixed":"absolute",backgroundColor:"#FFF",border:"1px solid ".concat(i.m),borderRadius:4,top:l||(u?60:150),left:"50%",transform:"translateX(-50%)",width:"94%",fontFamily:"Open Sans",zIndex:1e4,boxShadow:"0 0px 14px hsla(0, 0%, 0%, 0.2)"},background:{position:"fixed",width:"100%",height:"100%",top:0,left:0,backgroundColor:"#00000033",zIndex:5e3}};return a?Object(o.jsxs)("div",{style:d.outer,children:[Object(o.jsx)("div",{style:d.background,onClick:t}),Object(o.jsx)("div",{style:Object(r.a)(Object(r.a)({},d.container),s),children:n})]}):null}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(10),c=n(313),o=n(3),a=n(836),s=n(158),l=n(2),u=s.b.div(r||(r=Object(c.a)(["\n  background-color: #fff;\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size}));function d(e){var t=e.address,n=e.size,r=Object(o.useState)(null),c=Object(i.a)(r,2),s=c[0],d=c[1];return Object(o.useEffect)((function(){var e=a.a(t,n);d(e)}),[t,n]),t&&s?Object(l.jsx)(u,{size:n,children:Object(l.jsx)("img",{style:{borderRadius:8},src:"data:image/svg+xml;utf8,".concat(encodeURIComponent(s))})}):null}},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(15),i=n(19),c=n(10),o=n(1),a=n.n(o),s=n(3),l=n.n(s),u=n(7),d=n(22),f=n(48),b=n(84),j=n(44),p=n(309),O=n(18),x=n(310),h=n(196),m=n(31),g=n(34);var v=n(47),y=n(86),C=n(317),w=n(2);function k(e){var t,n=e.data,o=e.sharedFs,k=e.setCurrentDirectory,A=e.ipfs,S=e.isParent,D=e.snapshot,I=e.forceIcon,E=e.onIconClicked,z=e.readOnly,F=n.path,T=n.type,B=F.split("/"),N=B[B.length-1],R=o&&(null===(t=o.current.fs.read(F))||void 0===t?void 0:t.mtime),P=Object(b.a)(),Q=Object(c.a)(P,2),H=Q[0],U=Q[1],M=Object(s.useState)(null),L=Object(c.a)(M,2),K=L[0],V=L[1],W=Object(s.useState)(null),X=Object(c.a)(W,2),q=X[0],G=X[1],Y=Object(s.useState)(!1),Z=Object(c.a)(Y,2),J=Z[0],_=Z[1],$=Object(s.useState)(!1),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],re=Object(s.useState)(null),ie=Object(c.a)(re,2),ce=ie[0],oe=ie[1],ae=function(e){var t=l.a.useState(null),n=Object(c.a)(t,2),r=n[0],i=n[1],o=l.a.useRef(0),a=l.a.useRef(null),s=l.a.useRef(null),u=l.a.useCallback((function(e){i(e),u.current=e}),[]);return l.a.useEffect((function(){s.current=e})),l.a.useEffect((function(){function e(){var e=o.current+1===2,t=a.current;t&&e&&(clearTimeout(a.current),a.current=null,o.current=0,s.current&&s.current()),t||(o.current=o.current+1,a.current=setTimeout((function(){clearTimeout(a.current),a.current=null,o.current=0}),200))}return r&&r.addEventListener("click",e),function(){r&&r.removeEventListener("click",e)}}),[r]),[u,r]}((function(){return _(!0)})),se=Object(c.a)(ae,1)[0],le=B.slice(0,B.length-1).join("/"),ue=Object(O.i)(N),de=Object(v.a)(),fe=o&&o.current.fs.exists(F),be=!O.u,je=(null===o||void 0===o?void 0:o.current.encrypted)&&"dir"===T,pe=o&&Object(O.g)(o.current),Oe={paddingContainer:{paddingTop:3,paddingBottom:3},outer:{borderRadius:4,color:u.o,fontSize:14,padding:7,marginBottom:8,fontFamily:"Open Sans",userSelect:"none"},container:{display:"flex",flexDirection:"row",flexWrap:de?"wrap":"nowrap",justifyContent:"space-between",cursor:"pointer"},flexItem:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexGrow:2,marginBottom:de?10:0},icon:{marginRight:4,width:30,flexShrink:0},tools:{display:be?"none":"flex",justifyContent:"flex-end",width:"100%",opacity:!U&&!ce||S?0:1,pointerEvents:!U&&!ce||S?"none":null,fontSize:14,marginLeft:0},filename:{textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},xe=Object(m.c)(),he=Object(h.a)(J,(function(e){return ye(e)}),(function(){return _(!1)}),N,{placeholder:""}),me=I||Object(O.q)(T,N),ge=function(){var e=Object(i.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.cid){e.next=4;break}t=n.cid,e.next=8;break;case 4:if(!fe){e.next=8;break}return e.next=7,o.current.read(F);case 7:t=e.sent;case 8:return e.next=10,Object(O.n)(t,A);case 10:return r=e.sent,G(r),V(t),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){fe&&"dir"!==T&&ge()}),[F]);var ve=me,ye=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,xe(Object(g.b)({message:"Renaming file"})),e.next=4,o.current.move(F,le,t);case 4:xe(Object(g.b)({})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error moving!",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function Ce(){return we.apply(this,arguments)}function we(){return(we=Object(i.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce){e.next=9;break}return xe(Object(g.b)({message:"Fetching download"})),n=function(e,t){xe(Object(g.b)({message:"[".concat(Object(O.s)(e,t),"%] Downloading")}))},e.next=5,Object(O.k)(o.current,F,n);case 5:t=e.sent,xe(Object(g.b)({})),e.next=10;break;case 9:t=ce;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=function(e,t){"dir"===T&&(t="".concat(t,".zip")),Object(x.saveAs)(e,t)},Ae=function(){ne(!1),xe(Object(g.a)({name:N,CID:K,path:F,pathType:T}))},Se=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!1),e.next=3,Ce();case 3:t=e.sent,ke(t,N);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(!1),_(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!1),xe(Object(g.b)({message:"Deleting ".concat("dir"===T?"folder":"file")})),e.next=4,o.current.remove(F);case 4:xe(Object(g.b)({}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce||!Object(O.x)(ue)){e.next=9;break}return xe(Object(g.b)({message:"Fetching preview"})),e.next=4,Ce();case 4:t=e.sent,xe(Object(g.b)({})),oe(t),e.next=10;break;case 9:oe(null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!be||"dir"===T){e.next=4;break}return ne(!0),e.abrupt("return");case 4:if(!E){e.next=7;break}return E(),e.abrupt("return");case 7:if(!J){e.next=9;break}return e.abrupt("return");case 9:if("dir"!==T){e.next=13;break}k(F),e.next=15;break;case 13:return e.next=15,Ee();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=[{title:"Download",onClick:Se,iconComponent:d.e}];pe&&(Fe=Fe.concat([{title:"Rename",onClick:De,iconComponent:d.f},{title:"Delete",onClick:Ie,iconComponent:d.s,forceColor:u.e}])),je||Fe.unshift({title:"Share",onClick:Ae,iconComponent:d.r}),"dir"===T?Fe.unshift({title:"Open folder",onClick:function(){return k(F)},iconComponent:f.g}):(!ce&&Object(O.x)(ue)||E)&&Fe.unshift({title:"Open preview",onClick:function(){ne(!1),E?E():Ee()},iconComponent:me});return Object(w.jsx)(w.Fragment,{children:(D||(D={}),Object(w.jsxs)("div",{ref:H,style:Oe.paddingContainer,className:"fileItem",children:[Object(w.jsx)(C.a,{isVisible:te,name:N,fileIcon:me,onClose:function(){return ne(!1)},items:Fe}),Object(w.jsxs)("div",{onContextMenu:function(e){e.preventDefault(),y.contextMenu.show({event:e,id:je?"menu-id-no-share":"menu-id",props:{handleDelete:Ie,handleDownload:Se,handleShare:Ae,handleEdit:De}})},style:Object(r.a)(Object(r.a)({},Oe.outer),{},{backgroundColor:(U||ce||D.isDragging||D.combineTargetFor&&"dir"===T)&&!be?u.g:"#FFF"}),children:[Object(w.jsxs)("div",{style:Oe.container,onClick:ze,children:[Object(w.jsxs)("div",{style:Object(r.a)(Object(r.a)({},Oe.flexItem),{},{maxWidth:de?null:"25%"}),children:[Object(w.jsx)(ve,{color:u.m,size:16,style:Oe.icon}),J?Object(w.jsx)(w.Fragment,{children:he}):S?". . /":Object(w.jsx)("span",{ref:se,style:Oe.filename,children:N})]}),Object(w.jsx)("div",{style:Object(r.a)(Object(r.a)({},Oe.flexItem),{},{justifyContent:"flex-end"}),children:"dir"!==T&&q?Object(O.v)(q.size):null}),Object(w.jsx)("div",{style:Object(r.a)(Object(r.a)({},Oe.flexItem),{},{justifyContent:"flex-end"}),children:"dir"!==T&&(R||null!==q&&void 0!==q&&q.mtime)?Object(O.o)((null===R||void 0===R?void 0:R.secs)||q.mtime.secs):null}),Object(w.jsx)("div",{style:Oe.tools,children:Object(w.jsxs)("div",{children:[Object(w.jsx)(j.a,{id:"Share-".concat(T),iconComponent:d.r,changeColor:u.f,tooltip:je?"No encrypted folder sharing yet!":"Share",onClick:Ae,disabled:je}),Object(w.jsx)(j.a,{id:"Download-".concat(T),iconComponent:d.e,changeColor:u.f,tooltip:"Download",onClick:Se}),!z&&pe?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.a,{id:"Rename-".concat(T),iconComponent:d.f,changeColor:u.f,tooltip:"Rename",onClick:De}),Object(w.jsx)(j.a,{id:"Delete-".concat(T),iconComponent:d.s,tooltip:"Delete",onClick:Ie})]}):null]})})]}),ce?Object(w.jsx)("div",{style:Oe.preview,children:Object(w.jsx)(p.a,{blob:ce,filename:N})}):null]})]}))})}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(19),i=n(10),c=n(1),o=n.n(c),a=n(3),s=n(7),l=n(18),u=n(69),d=n(819),f=n.n(d),b=n(81),j=n(2);function p(e){var t=e.isVisible,n=e.onClose,c=e.value,d=e.title,p=Object(a.useState)(!1),O=Object(i.a)(p,2),x=O[0],h=O[1],m={container:{display:"flex",justifyContent:"center"},key:{fontSize:18,fontWeight:600,marginTop:8,textAlign:"center"},buttonHolder:{marginTop:12,textAlign:"center"},dialog:{maxWidth:360},qr:{border:s.a,borderRadius:4}};return Object(j.jsx)(u.a,{style:m.dialog,title:d,isVisible:t,backgroundColor:s.g,onClose:n,body:Object(j.jsx)("div",{style:m.container,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{value:c,size:256,includeMargin:!0,style:m.qr}),Object(j.jsxs)("div",{style:m.copy,children:[Object(j.jsxs)("div",{style:m.key,children:[null===c||void 0===c?void 0:c.substr(0,10),"..."]}),Object(j.jsx)("div",{style:m.buttonHolder,children:Object(j.jsx)(b.a,{title:x?"Copied!":"Copy ID",style:m.copyButton,onClick:Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)(c);case 2:h(!0),setTimeout((function(){return h(!1)}),1500);case 4:case"end":return e.stop()}}),e)})))})})]})]})})})}var O=n(199),x={container:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,borderBottom:"1px solid ".concat(s.i),paddingBottom:2},right:{fontSize:16,lineHeight:"18px",color:s.m},userItem:{position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},icon:{marginLeft:2},leftSide:{display:"flex",alignItems:"center"},title:{color:s.m,fontSize:16,fontWeight:400,display:"flex",alignItems:"center",userSelect:"none"},headerIcon:{marginRight:4},myID:{fontSize:12,marginRight:4,color:s.l},idContainer:{cursor:"pointer",borderRadius:4,border:s.a,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:5,backgroundColor:s.g,marginBottom:4,userSelect:"none"}};function h(e){var t=e.sailplane,n=e.title,c=e.iconComponent,u=e.leftSide,d=Object(a.useState)(null),f=Object(i.a)(d,2),b=f[0],h=f[1],m=Object(a.useState)(!1),g=Object(i.a)(m,2),v=g[0],y=g[1];Object(a.useEffect)((function(){t&&function(){try{var e=Object(l.c)(t._orbitdb.identity.publicKey);h(e)}catch(n){console.log("err",n)}}()}),[t]);var C=c;return Object(j.jsxs)("div",{style:x.container,children:[Object(j.jsx)("div",{style:x.leftSide,children:n?Object(j.jsxs)("div",{style:x.title,children:[Object(j.jsx)(C,{color:s.j,size:16,style:x.headerIcon}),n]}):u}),Object(j.jsxs)("div",{style:x.right,children:[b?Object(j.jsx)("div",{style:x.userItem,children:Object(j.jsxs)("div",{onClick:Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!0);case 1:case"end":return e.stop()}}),e)}))),style:x.idContainer,children:[Object(j.jsx)("div",{style:x.myID,children:"Show ID"}),Object(j.jsx)(O.a,{address:b,size:34,style:x.icon})]})}):null,Object(j.jsx)(p,{value:b,title:"My User ID",isVisible:v,onClose:function(){return y(!1)}})]})]})}},2046:function(e,t,n){},2053:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),c=n(128),o=n.n(c),a=(n(843),n(827)),s=n(57),l=n(808),u=n(318),d=n(2);function f(){return Object(d.jsxs)(a.a,{children:[Object(d.jsx)(s.a,{exact:!0,path:"/",component:l.a}),Object(d.jsx)(s.a,{exact:!0,path:"/download/:cid/:path",component:u.a}),Object(d.jsx)(s.a,{exact:!0,path:"/download/:cid/:iv/:key/:path/:displayType",component:u.a}),Object(d.jsx)(s.a,{exact:!0,path:"/download/:cid/:path/:displayType",component:u.a})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(31),j=n(829),p=n(78),O=n(467),x=n(830),h=n.n(x),m=n(831),g=n.n(m),v=n(53),y=n(106),C={instances:[],contacts:[],instanceIndex:0,newUser:!0};var w=n(15),k={status:{},shareData:{}};var A=Object(p.c)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.ADD_INSTANCE:var n=t.name,r=t.address,i=t.isImported,c=t.isEncrypted,o=t.label;return Object(y.a)(e,(function(e){e.instances.push({name:n,address:r,isImported:i,isEncrypted:c,label:o})}));case v.a.SET_INSTANCE_INDEX:var a=t.index;return Object(y.a)(e,(function(e){e.instanceIndex=Math.max(0,a)}));case v.a.ADD_CONTACT:var s=t.label,l=t.pubKey;return Object(y.a)(e,(function(e){e.contacts||(e.contacts=[]),e.contacts.push({label:s,pubKey:l})}));case v.a.DELETE_CONTACT:var u=t.pubKey;return Object(y.a)(e,(function(t){t.contacts=e.contacts.filter((function(e){return e.pubKey!==u}))}));case v.a.SET_INSTANCE_LABEL:var d=t.index,f=t.label;return Object(y.a)(e,(function(e){e.instances[d].label=f}));case v.a.REMOVE_INSTANCE:var b=t.index;return Object(y.a)(e,(function(t){t.instances=e.instances.filter((function(e,t){return b!==t})),t.instances[t.instanceIndex]||(t.instanceIndex=0)}));case v.a.SET_NEW_USER:var j=t.bool;return Object(y.a)(e,(function(e){e.newUser=j}))}return e},tempData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.b.SET_STATUS:return Object(w.a)(Object(w.a)({},e),{},{status:t.status});case v.b.SET_SHARE_DATA:return Object(w.a)(Object(w.a)({},e),{},{shareData:t.shareData})}return e}}),S=A,D=(n(2051),{key:"root",storage:h.a,blacklist:["tempData"],stateReconciler:g.a}),I=Object(O.a)(D,S),E=[];var z=n(158),F=function(e){var t=Object(p.d)(p.a.apply(void 0,E))(p.e)(I);return{store:t,persistor:Object(O.b)(t)}}(),T=F.store,B=F.persistor;o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(b.a,{store:T,children:Object(d.jsx)(j.a,{loading:null,persistor:B,children:Object(d.jsx)(z.a,{theme:{primary:"#2b6284",primary2:"#ecf4f9",primary3:"#9fc7e0",primary35:"#97bace",primary4:"hsl(204,38%,55%)",primary45:"hsl(205,49%,66%)",primary46:"#67a1cb",primary15:"rgb(241 249 255)",primary5:"#3881ad",primary6:"#132b3a"},children:Object(d.jsx)(f,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(3);var r=n(7),i=n(18),c=n(22),o=n(2),a={container:{padding:10,backgroundColor:"#FFF",textAlign:"center",width:"100%",paddingTop:100,fontSize:20,fontFamily:"Open Sans",fontWeight:"300",color:r.l,boxSizing:"border-box",height:"100%"},icon:{marginRight:4}};function s(e){var t=e.ipfsError,n=e.message,s=e.loading;n||(n="Loading...");var l=Object(o.jsx)(c.l,{color:r.l,size:16,style:a.icon,className:"rotating"}),u=Object(o.jsxs)(o.Fragment,{children:["Sailplane failed to start network. Try refreshing. ",Object(o.jsx)("br",{}),"If the problem persists you can try ",Object(o.jsx)("a",{target:"blank",href:"https://intercom.help/scoutpad/en/articles/3478364-how-to-clear-local-storage-of-web-browser",children:"clearing browser cache"}),"."]}),d=Object(i.A)()?u:"This browser does not support WebRTC, iOS users please try Safari.";return Object(o.jsx)("div",{style:a.container,children:Object(i.A)()&&!t?Object(o.jsxs)("div",{children:[s&&l,n]}):Object(o.jsx)("div",{children:d})})}},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(10),i=(n(3),n(7)),c=n(22),o=n(44),a=n(84),s=n(18),l=n(31),u=n(64),d=n(47),f=n(199),b=n(2);function j(e){var t=e.pubKey,n=e.myID,j=e.selected,p=e.label,O=e.hideTools,x=e.onClick,h=j?"#FFF":i.m,m=Object(a.a)(),g=Object(r.a)(m,2),v=g[0],y=g[1],C=Object(l.c)(),w=Object(d.a)(),k={outer:{paddingTop:4,paddingBottom:4},userBlock:{backgroundColor:y?i.i:"#FFF",color:i.l,fontSize:18,fontFamily:"Open Sans",lineHeight:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:8,borderRadius:4,cursor:"pointer"},left:{display:"flex",justifyContent:"flex-start",alignItems:"center"},right:{display:O?"none":"block"},iconHolder:{marginRight:8},youText:{fontSize:16,fontWeight:600},key:{fontSize:13}};return Object(b.jsx)("div",{style:k.outer,ref:v,onClick:x||null,children:Object(b.jsxs)("div",{style:k.userBlock,children:[Object(b.jsxs)("div",{style:k.left,children:[Object(b.jsx)("div",{style:k.iconHolder,children:Object(b.jsx)(f.a,{address:t,size:34,style:k.icon})}),Object(b.jsxs)("div",{style:k.adminNameHolder,children:[Object(b.jsx)("div",{children:Object(b.jsx)("span",{style:k.youText,children:n===t?"You":p||"Unnamed"})}),Object(b.jsx)("div",{style:k.key,children:w?t.substr(0,20)+"...":t})]})]}),Object(b.jsxs)("div",{style:k.right,children:[Object(b.jsx)(o.a,{className:"contactCopy",defaultColor:h,iconComponent:c.d,tooltip:"Copy",size:15,changeColor:i.f,onClick:function(){Object(s.d)(t),Object(s.B)("Contact user ID copied!",C)}}),n!==t?Object(b.jsx)(o.a,{className:"contactDelete",defaultColor:h,iconComponent:c.s,tooltip:"Delete",size:15,changeColor:i.b,onClick:function(){C(Object(u.c)(t))}}):null]})]})})}},309:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),i=n.n(r),c=n(18),o=n(2),a=i.a.memo((function(e){var t=e.blob,n=e.filename,r=e.size;r||(r="small");var i={container:{marginTop:10},image:{width:"small"===r?300:"100%"},audio:{userSelect:"none",outline:0}},a=Object(c.i)(n),s=window.URL.createObjectURL(t);return Object(o.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:i.container,children:[Object(c.z)(a)?Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:s,style:i.image})}):null,Object(c.x)(a)?Object(o.jsx)("div",{children:Object(o.jsx)("audio",{controls:!0,children:Object(o.jsx)("source",{src:s,style:i.audio})})}):null]})}))},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(19),i=n(10),c=n(1),o=n.n(c),a=n(815),s=n.n(a),l=n(3),u=null;function d(e){var t=Object(l.useState)(Boolean(u)),n=Object(i.a)(t,2),c=n[0],a=n[1],d=Object(l.useState)(null),f=Object(i.a)(d,2),b=f[0],j=f[1];return Object(l.useEffect)((function(){function t(){return(t=Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=4;break}console.log("IPFS already started"),t.next=25;break;case 4:if(!window.ipfs||!window.ipfs.enable){t.next=11;break}return console.log("Found window.ipfs"),t.next=8,window.ipfs.enable({commands:["id"]});case 8:u=t.sent,t.next=25;break;case 11:return t.prev=11,console.time("IPFS Started"),t.next=15,s.a.create({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/","/dns4/libp2p-rdv.vps.revolunet.com/tcp/443/wss/p2p-webrtc-star/"]}}});case 15:u=t.sent,console.timeEnd("IPFS Started"),t.next=25;break;case 19:t.prev=19,t.t0=t.catch(11),console.error(t.t0),e(t.t0),u=null,j(t.t0);case 25:window.ipfs=u,a(Boolean(u));case 27:case"end":return t.stop()}}),t,null,[[11,19]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){u&&u.stop&&(console.log("Stopping IPFS"),u.stop().catch((function(e){return console.error(e)})),u=null,a(!1))}}),[]),{ipfs:u,isIpfsReady:c,ipfsInitError:b}}},315:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(10),i=n(3),c=n(7),o=n(48),a=n(84),s=n(2);function l(e){var t=e.selected,n=e.onClick,i=e.title,o=e.iconComponent,l=Object(a.a)(),u=Object(r.a)(l,2),d=u[0],f=u[1],b=o,j={container:{backgroundColor:t?"#FFF":f?c.n:null,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",fontSize:16,cursor:"pointer",padding:8,borderRadius:4,marginBottom:8,fontFamily:"Open Sans"},title:{color:t?c.l:"#FFF",userSelect:"none",fontSize:15},icon:{marginRight:6}};return Object(s.jsxs)("div",{style:j.container,onClick:n,ref:d,children:[o?Object(s.jsx)(b,{color:t?c.m:"#FFF",size:16,style:j.icon}):null,Object(s.jsx)("span",{style:j.title,children:i})]})}var u=n(47);function d(e){var t=e.setCurrentRightPanel,n=e.currentRightPanel,a=e.isDownload,d=Object(u.a)(),f=Object(i.useState)(!1),b=Object(r.a)(f,2),j=b[0],p=b[1],O={container:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:c.m,color:"#FFF",padding:"".concat(d?8:20,"px 10px 0px 10px"),minWidth:200,fontFamily:"Open Sans",paddingBottom:0},logo:{display:"inline-block",fontFamily:"MuseoModerno",color:"#FFF",fontSize:24,fontWeight:400,marginBottom:d&&!j?8:20,textAlign:"center",justifyContent:"center",alignItems:"center",userSelect:"none",cursor:"pointer",lineHeight:"24px"},settingsBlock:{bottom:0,width:"100%"},mobilePadding:{paddingBottom:6},menuIcon:{position:"absolute",top:d?16:25,left:14},logoContainer:{display:"flex",alignItems:"center",justifyContent:"center"},footer:{textAlign:"center",marginBottom:8,fontSize:13,lineHeight:"14px",fontFamily:"Open Sans"},iconGithub:{cursor:"pointer"},githubTxt:{fontSize:10,userSelect:"none"},icon:{position:"relative",top:6,width:30},logoTitle:{display:"inline-flex"}},x=o.b;j&&(x=o.l);var h=x;return Object(s.jsxs)("div",{style:O.container,children:[d?Object(s.jsx)(h,{color:"#FFF",size:24,style:O.menuIcon,onClick:function(){p(!j)}}):null,Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:O.logoContainer,children:Object(s.jsxs)("div",{style:O.logo,onClick:function(){document.location="".concat(window.location.origin+window.location.pathname)},children:[Object(s.jsx)("img",{src:"data:image/png;base64,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",style:O.icon}),Object(s.jsx)("div",{style:O.logoTitle,children:"Sailplane"})]})}),!j&&d||a?Object(s.jsx)("div",{style:O.mobilePadding}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{title:"Files",iconComponent:o.g,selected:"files"===n,onClick:function(){p(!1),t("files")}}),Object(s.jsx)(l,{title:"Drives",iconComponent:o.k,selected:"instances"===n,onClick:function(){p(!1),t("instances")}}),Object(s.jsx)(l,{title:"Contacts",iconComponent:o.a,selected:"contacts"===n,onClick:function(){p(!1),t("contacts")}})]}),a?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:O.settingsBlock,children:Object(s.jsx)(l,{title:"Home",onClick:function(){return document.location="/"},iconComponent:o.i})}),Object(s.jsx)("div",{style:O.settingsBlock,children:Object(s.jsx)(l,{title:"Downloads",onClick:function(){},iconComponent:o.e,selected:!0})})]}):null]}),d?null:Object(s.jsxs)("div",{style:O.footer,children:[Object(s.jsx)("a",{href:"https://github.com/cypsela/sailplane-web",target:"_blank",rel:"noopener",children:Object(s.jsx)(o.h,{color:c.g,size:20,style:O.iconGithub})}),Object(s.jsx)("div",{style:O.githubTxt,children:"Source"})]})]})}},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(15),i=n(10),c=n(243),o=n(3),a=n(69),s=n(7),l=n(64),u=n(31),d=n(81),f=n(116),b=n(48),j=n(824),p=n.n(j),O=n(18),x=n(2);function h(e){var t=e.isVisible,n=e.onClose,r=e.onScan,c={container:{display:"flex",justifyContent:"center"},dialog:{maxWidth:360}},l=Object(o.useState)(null),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(x.jsx)(a.a,{style:c.dialog,positionTop:1,title:"Scan user ID",isVisible:t,backgroundColor:s.g,onClose:n,body:Object(x.jsx)("div",{style:c.container,children:d?Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{isError:!0,children:"This browser does not support camera access."})}):Object(x.jsx)(p.a,{showViewFinder:!1,delay:300,onError:function(e){return b(e)},onScan:function(e){Object(O.C)(e)&&r(e)},style:{width:"100%",maxWidth:400,alignSelf:"center"}})})})}n(19),n(1);function m(e){var t=e.onClose,n=e.isVisible,j=e.contacts,p=e.myID,m=Object(u.c)(),g=j?[p].concat(Object(c.a)(j.map((function(e){return e.pubKey})))):[],v=Object(o.useState)(""),y=Object(i.a)(v,2),C=y[0],w=y[1],k=Object(o.useState)(""),A=Object(i.a)(k,2),S=A[0],D=A[1],I=Object(o.useState)(null),E=Object(i.a)(I,2),z=E[0],F=E[1],T=Object(o.useState)(!1),B=Object(i.a)(T,2),N=B[0],R=B[1],P=Object(o.useRef)(null);Object(o.useEffect)((function(){n?(P.current.focus(),P.current.select()):(D(""),w(""),F(null))}),[n]);var Q={title:{fontSize:16,color:s.m,marginBottom:8},labelTitle:{marginTop:12,marginBottom:4},input:{border:"1px solid ".concat(s.j),borderRadius:4,color:s.f,fontSize:14,fontWeight:200,padding:4,display:"inline-flex",width:"100%",boxSizing:"border-box"},confirmBlock:{marginTop:14,display:"flex",justifyContent:"flex-end"},cancel:{marginRight:8},optional:{position:"relative",top:-8,left:4,fontSize:13},inputIconContainer:{},inputIcon:{display:"flex",alignItems:"center",position:"absolute",right:8,cursor:"pointer",backgroundColor:"#FFF"},inputWrapper:{display:"flex",flexGrow:2,position:"relative",alignItems:"center"}},H=function(){Object(O.C)(S)?g.includes(S)?F("Contact already exists"):(m(Object(l.a)(S,C)),t()):F("Invalid user ID")};return Object(x.jsx)(a.a,{backgroundColor:s.g,isVisible:n,title:"Add contact",body:Object(x.jsxs)("div",{style:Q.body,children:[z?Object(x.jsx)(f.a,{isError:!0,children:z}):null,Object(x.jsx)("div",{style:Q.title,children:"User ID:"}),Object(x.jsxs)("div",{style:Q.inputWrapper,children:[Object(x.jsx)("input",{ref:P,type:"text",value:S,onChange:function(e){return D(e.target.value)},autoCorrect:"off",style:Q.input,placeholder:"(ex: 0356467b31...)",className:"textInput",onKeyPress:function(e){"Enter"===e.key&&H()}}),Object(x.jsx)(b.j,{onClick:function(){return R(!0)},color:s.m,size:16,style:Q.inputIcon})]}),Object(x.jsxs)("div",{style:Object(r.a)(Object(r.a)({},Q.title),Q.labelTitle),children:["Name",Object(x.jsx)("span",{style:Q.optional,children:"(optional)"})]}),Object(x.jsx)("input",{type:"text",value:C,onChange:function(e){return w(e.target.value)},autoCorrect:"off",style:Q.input,placeholder:"(ex: John Richardson)",className:"textInput",onKeyPress:function(e){"Enter"===e.key&&H()}}),Object(x.jsxs)("div",{style:Q.confirmBlock,children:[Object(x.jsx)(d.a,{title:"Cancel",inverted:!1,noHover:!0,customWhiteColor:s.g,style:Q.cancel,onClick:t}),Object(x.jsx)(d.a,{id:"addContactDialogButton",title:"Add contact",onClick:H,inverted:!0,customWhiteColor:s.g})]}),Object(x.jsx)(h,{isVisible:N,onClose:function(){return R(!1)},onScan:function(e){D(e),R(!1)}})]}),onClose:t})}},317:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(3);var r=n(7),i=n(197),c=n(2);function o(e){var t=e.iconComponent,n=e.title,i=e.onClick,o=e.forceColor,a={container:{display:"flex",justifyContent:"center",alignItems:"center",height:80,marginTop:10,marginBottom:10},inner:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",border:"1px solid ".concat(o||r.d),borderRadius:4,boxShadow:"1px 2px 3px #e8e8e8"},title:{fontSize:16,lineHeight:"16px",color:o||r.m,marginTop:4,whiteSpace:"nowrap"},icon:{width:40},body:{display:"flex",alignItems:"center",width:140}},s=t;return Object(c.jsx)("div",{style:a.container,children:Object(c.jsx)("div",{style:a.inner,onClick:i,children:Object(c.jsxs)("div",{style:a.body,children:[Object(c.jsx)(s,{color:o||r.j,size:19,style:a.icon}),Object(c.jsx)("div",{style:a.title,children:n})]})})})}function a(e){var t=e.name,n=e.isVisible,a=e.fileIcon,s=e.items,l=e.onClose;if(!n)return null;var u={container:{padding:"0 8px 0 8px"},name:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:8,padding:6,backgroundColor:r.g,color:r.j,boxShadow:"inset 1px 1px 3px #adcadf",borderRadius:4,margin:8},icon:{height:20,width:20,marginRight:4},nameText:{fontSize:16,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},d=a;return Object(c.jsxs)(i.a,{onClose:l,isVisible:n,children:[Object(c.jsxs)("div",{style:u.name,children:[a?Object(c.jsx)(d,{color:r.j,size:20,style:u.icon}):null,Object(c.jsx)("span",{style:u.nameText,children:t})]}),Object(c.jsx)("div",{style:u.container,children:s.map((function(e,t){return Object(c.jsx)(o,{iconComponent:e.iconComponent,title:e.title,onClick:e.onClick,forceColor:e.forceColor},t)}))})]})}},318:function(e,t,n){"use strict";(function(e){var r=n(19),i=n(10),c=n(1),o=n.n(c),a=n(3),s=(n(470),n(315)),l=n(47),u=n(312),d=n(240),f=n(314),b=n(31),j=n(34),p=n(18),O=n(310),x=n(835),h=n(7),m=n(195),g=n(237),v=n(131),y=n.n(v),C=n(2);t.a=Object(f.hot)(e)((function(e){var t=e.match.params,n=t.cid,c=t.path,f=t.displayType,v=t.iv,w=t.key,k=Object(l.a)(),A=Object(m.a)(),S=Object(u.a)((function(e){console.error(e)})),D=Object(a.useState)(!1),I=Object(i.a)(D,2),E=I[0],z=I[1],F=Object(a.useState)(null),T=Object(i.a)(F,2),B=T[0],N=T[1],R=Object(a.useState)(null),P=Object(i.a)(R,2),Q=P[0],H=P[1],U=Object(a.useState)(!1),M=Object(i.a)(U,2),L=M[0],K=M[1],V=Object(a.useState)("files"),W=Object(i.a)(V,2),X=W[0],q=W[1],G=Object(a.useState)(null),Y=Object(i.a)(G,2),Z=Y[0],J=Y[1],_=decodeURIComponent(c),$=decodeURIComponent(n),ee=decodeURIComponent(w),te=decodeURIComponent(v),ne=Object(b.c)(),re=_.split("/"),ie=re[re.length-1],ce=Object(p.y)(Object(p.i)(ie));Object(a.useEffect)((function(){ce&&E&&!Z&&"default"===f&&le()}),[ce,E,Z,$,c,f]);var oe={container:{display:k?"block":"flex",flexDirection:"row",height:"100%",maxWidth:1920,margin:"0 auto",border:A.width<=1280?null:h.a}},ae=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.p)(S.ipfs,$,(function(){}));case 2:t=e.sent,N(t.slice(1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.n)($,S.ipfs);case 2:t=e.sent,H(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function le(){return ue.apply(this,arguments)}function ue(){return(ue=Object(r.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,t){ne(Object(j.b)({message:"[".concat(Object(p.s)(e,t),"%] Downloading")}))},!Z){e.next=5;break}t=Z,e.next=17;break;case 5:if(!w){e.next=13;break}return e.next=8,Object(g.catCid)(S.ipfs,$,{Crypter:y.a,key:ee,iv:te,handleUpdate:n});case 8:r=e.sent,t=new Blob(Array.from([r.buffer])),J(t),e.next=17;break;case 13:return e.next=15,Object(p.l)($,_,S.ipfs,n);case 15:t=e.sent,J(t);case 17:return ne(Object(j.b)({})),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){S.isIpfsReady&&!E&&(z(!0),ae(),se())}),[S.ipfs,S.isIpfsReady,E,f,$]);var de=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(Object(j.b)({message:"Fetching file"})),e.next=3,le();case 3:n=e.sent,Object(O.saveAs)(n,ie),K(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{style:oe.container,children:[Object(C.jsx)(s.a,{isDownload:!0,setCurrentRightPanel:q,currentRightPanel:X}),E?Object(C.jsx)(x.a,{handleDownload:de,ready:E,path:_,cid:$,files:B,displayType:f,downloadComplete:L,fileInfo:Q,fileBlob:Z,ipfs:S.ipfs}):Object(C.jsx)(d.a,{})]})}))}).call(this,n(469)(e))},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(53);function i(e){return{type:r.b.SET_STATUS,status:e}}function c(e){return{type:r.b.SET_SHARE_DATA,shareData:e}}},344:function(e,t){},357:function(e,t){},415:function(e,t){},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(10),i=(n(3),n(7)),c=n(84),o=n(465),a=n(2);function s(e){var t=e.iconComponent,n=e.onClick,s=e.size,l=e.changeColor,u=e.tooltip,d=e.title,f=e.defaultColor,b=e.id,j=e.className,p=e.disabled,O=Object(c.a)(),x=Object(r.a)(O,2),h=x[0],m=x[1],g=Object(o.a)(),v=Object(r.a)(g,2),y=v[0],C=v[1],w=Object(o.a)(),k=Object(r.a)(w,2),A=k[0],S=k[1],D=t,I=S.width?S.width:0;f||(f=i.j),l||(l=i.b),p&&(f="#DDD");var E={container:{position:"relative",display:"inline-flex",alignItems:"center",cursor:"pointer",padding:4,fontSize:14},popover:{position:"fixed",top:C.y-40||void 0,left:C.x-(I/2-8)||void 0,backgroundColor:i.j,color:"#FFF",padding:"4px 6px",border:i.a,borderRadius:2,fontSize:14,fontWeight:400,zIndex:1e3,pointerEvents:"none"},title:{color:m?l:f,marginLeft:4,textDecoration:m?"underline":"none",fontSize:13,lineHeight:"16px",whiteSpace:"nowrap"}};return Object(a.jsxs)("div",{id:b,className:j,style:E.container,ref:h,onClick:function(e){e.stopPropagation(),p||n()},children:[Object(a.jsx)("div",{ref:y}),t?Object(a.jsx)(D,{color:m?l:f,size:s||16,style:E.icon}):null,d?Object(a.jsx)("span",{style:E.title,children:d}):null,m&&u?Object(a.jsx)("div",{style:E.popover,ref:A,children:u}):null]})}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(195);function i(){return Object(r.a)().width<600}},470:function(e,t,n){},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={ADD_INSTANCE:"ADD_INSTANCE",REMOVE_INSTANCE:"REMOVE_INSTANCE",SET_INSTANCE_INDEX:"SET_INSTANCE_INDEX",SET_INSTANCE_LABEL:"SET_INSTANCE_LABEL",CLEAR_ENCRYPTION_KEY:"CLEAR_ENCRYPTION_KEY",SET_NEW_USER:"SET_NEW_USER",ADD_CONTACT:"ADD_CONTACT",DELETE_CONTACT:"DELETE_CONTACT"},i={SET_STATUS:"SET_STATUS",SET_SHARE_DATA:"SET_SHARE_DATA"}},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return u}));var r=n(53);function i(e,t,n,i,c){return{type:r.a.ADD_INSTANCE,name:e,address:t,isImported:n,isEncrypted:i,label:c}}function c(e,t){return{type:r.a.ADD_CONTACT,label:t,pubKey:e}}function o(e){return{type:r.a.DELETE_CONTACT,pubKey:e}}function a(e){return{type:r.a.SET_INSTANCE_INDEX,index:e}}function s(e,t){return{type:r.a.SET_INSTANCE_LABEL,index:e,label:t}}function l(e){return{type:r.a.REMOVE_INSTANCE,index:e}}function u(e){return{type:r.a.SET_NEW_USER,bool:e}}},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(3);var r=n(7),i=n(48),c=n(197),o=n(2);function a(e){var t=e.isVisible,n=e.body,a=e.onClose,s=e.title,l=e.noPadding,u=e.backgroundColor,d=e.positionTop,f=e.style;if(!t)return null;var b={header:{backgroundColor:r.m,color:"#FFF",padding:8,fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},body:{padding:l?0:14,backgroundColor:u||"#FFF"},xIcon:{cursor:"pointer"}};return Object(o.jsx)(c.a,{onClose:a,isVisible:t,positionTop:d,style:f,children:Object(o.jsxs)("div",{style:b.container,children:[Object(o.jsxs)("div",{style:b.header,children:[Object(o.jsx)("div",{children:s}),Object(o.jsx)(i.l,{color:"#FFF",size:16,style:b.xIcon,className:"dialogClose",onClick:a})]}),Object(o.jsx)("div",{style:b.body,children:n})]})})}},7:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return x}));var r="#2b6284",i="#ecf4f9",c="#9fc7e0",o="#97bace",a="hsl(204,38%,55%)",s="hsl(205,49%,66%)",l="#67a1cb",u="rgb(241 249 255)",d="#3881ad",f="hsl(208 100% 96% / 1)",b="#ef6565",j="#ef9c9c",p="#53c171",O="1px solid rgb(208, 227, 239)",x="hsl(203 51% 80% / 1)"},70:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return y}));var r=n(15),i=n(19),c=n(1),o=n.n(c),a=n(157),s=n(131),l=n.n(s),u=n(198),d=n.n(u),f=d.a.parse,b=n(482);var j=function(e){return{meta:{iv:e.iv,enc:e.enc},accessController:{type:"orbitdb",admin:[e.identity.publicKey]}}};function p(e){return O.apply(this,arguments)}function O(){return O=Object(i.a)(o.a.mark((function e(t){var n,i,c,s,u,d,f,b=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},i=n.iv||Object(a.randomBytes)(16),c=n.identity||t._orbitdb.identity,e.next=5,t.determineAddress(n.name||"sailplane/drives/".concat(i.toString("hex")),Object(r.a)(Object(r.a)({},j({iv:i,enc:n.enc,identity:c})),n));case 5:if(s=e.sent,!n.enc){e.next=21;break}if(e.t0=n.cryptoKey,e.t0){e.next=12;break}return e.next=11,l.a.generateKey();case 11:e.t0=e.sent;case 12:return u=e.t0,e.next=15,l.a.create(u);case 15:return d=e.sent,e.next=18,t.mount(s,{crypter:d,Crypter:l.a});case 18:return f=e.sent,e.next=21,f.stop();case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function x(e){var t=(new TextEncoder).encode(f(e).root);return b.entropyToMnemonic(t.slice(-32)).split(" ").slice(-3).join("-")}var h=function(e){return e._orbitdb._ipfs};function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(o.a.mark((function e(t,n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t).dag.get(f(n).root);case 2:return r=e.sent,i=r.value,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={autoStart:!1};function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=t.toString(),e.mounted[t]||n[t]||(n[t]=e.mount(t,Object(r.a)(Object(r.a)({},v),i)).finally((function(){return delete n[t]})))}},808:function(e,t,n){"use strict";(function(e){var r=n(19),i=n(10),c=n(308),o=n(1),a=n.n(o),s=n(3),l=(n(470),n(315)),u=n(833),d=n(47),f=n(312),b=n(816),j=n.n(b),p=n(817),O=n.n(p),x=n(70),h=n(240),m=n(314),g=n(818),v=n(823),y=n(832),C=n(31),w=n(64),k=n(34),A=n(159),S=n(826),D=n(18),I=n(96),E=n.n(I),z=n(7),F=n(195),T=n(837),B=n(131),N=n.n(B),R=n(2);t.a=Object(m.hot)(e)((function(e){Object(c.a)(e);var t=Object(d.a)(),n=Object(F.a)(),o=Object(s.useRef)(null),b=Object(s.useRef)({}),p=Object(s.useState)(!1),m=Object(i.a)(p,2),I=m[0],B=m[1],P=Object(s.useRef)({}),Q=Object(s.useState)(!1),H=Object(i.a)(Q,2),U=H[0],M=H[1],L=Object(f.a)((function(e){console.log("IPFS error: "+e),M(!0)})),K=Object(s.useState)(!1),V=Object(i.a)(K,2),W=V[0],X=V[1],q=Object(s.useState)([]),G=Object(i.a)(q,2),Y=G[0],Z=G[1],J=Object(s.useState)("/r"),_=Object(i.a)(J,2),$=_[0],ee=_[1],te=Object(s.useState)(null),ne=Object(i.a)(te,2),re=ne[0],ie=ne[1],ce=Object(s.useState)("files"),oe=Object(i.a)(ce,2),ae=oe[0],se=oe[1],le=Object(s.useState)(!1),ue=Object(i.a)(le,2),de=ue[0],fe=ue[1],be=Object(C.c)(),je=Object(C.d)((function(e){return e.main})),pe=je.instances,Oe=je.instanceIndex,xe=je.newUser,he=pe[Oe],me=Object(A.a)(Oe),ge=Object(A.a)(he),ve={container:{position:"relative",display:t?"block":"flex",flexDirection:"row",height:"100%",maxWidth:1920,margin:"0 auto",border:n.width<=1280?null:z.a}};return Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W&&(t=P.current.fs.ls($).map((function(e){var t=P.current.fs.content(e),n=e.split("/");return{path:e,name:n[n.length-1],type:t}})),Z(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[W,$,re]),Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,r,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.length&&(ge!==he||!0!==W)){e.next=2;break}return e.abrupt("return");case 2:return X(!1),be(Object(k.b)({message:"Looking for drive..."})),e.next=6,x.d(o.current,he.address,b.current,{Crypter:N.a});case 6:if(n=e.sent,i=(r=function(e){return function(t,n){be(Object(k.b)({message:"".concat(e," ").concat(Object(D.s)(t,n),"%")})),t===n&&Object(D.f)(1500).then((function(){return be(Object(k.b)({}))}))}})("Load"),n.events.on("db.load.progress",i),c=r("Sync"),n.events.on("db.replicate.progress",c),s=function(){return ie(Date.now())},n.events.on("updated",s),n.tearDown=function(){n.events.removeListener("db.load.progress",i),n.events.removeListener("db.replicate.progress",c),n.events.removeListener("updated",s)},P.current.tearDown&&P.current.tearDown(),n.running){e.next=19;break}return e.next=19,n.start();case 19:P.current=n,t&&(ee("/r"),ie(Date.now())),X(!0),be(Object(k.b)({}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();I&&e(me!==Oe)}),[I,Oe,pe]),Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.b(t,{enc:!0});case 2:n=e.sent,r=x.c(n),be(Object(w.b)(r,n.toString(),!1,!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=Object(r.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return be(Object(k.b)({message:"Connecting"})),t.next=3,j.a.createInstance(n);case 3:return r=t.sent,t.next=6,O.a.create(r);case 6:if(i=t.sent,o.current=i,!xe&&!de||0!==pe.length){t.next=11;break}return t.next=11,e(i);case 11:B(!0),be(Object(k.b)({})),window.sailplane=i,window.all=E.a;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();L.isIpfsReady&&t(L.ipfs)}),[L.ipfs,L.isIpfsReady]),Object(R.jsxs)("div",{style:ve.container,children:[Object(R.jsx)(T.a,{isVisible:xe,onClose:function(){return be(Object(w.g)(!1)),void fe(!0)}}),Object(R.jsx)(l.a,{setCurrentRightPanel:se,currentRightPanel:ae}),I?function(){var e,t;return"files"===ae?he&&W&&P.current.access.hasRead?Object(R.jsx)(u.a,{isEncrypted:P.current.encrypted,sharedFs:P,ipfs:L.ipfs,directoryContents:Y,setCurrentDirectory:ee,currentDirectory:$}):(pe.length?W?P.current.access.hasRead||(e="You need permission to view this drive"):(e="Looking for drive...",t=!0):e="Create a drive",Object(R.jsx)(h.a,{message:e,loading:t})):"settings"===ae?Object(R.jsx)(g.a,{sharedFS:P}):"contacts"===ae?Object(R.jsx)(v.a,{sharedFS:P,sailplane:o.current}):"instances"===ae?Object(R.jsx)(y.a,{sailplane:o.current,ipfs:L.ipfs,sharedFS:P}):void 0}():Object(R.jsx)(h.a,{ipfsError:U}),Object(R.jsx)(S.a,{})]})}))}).call(this,n(469)(e))},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n(10),c=n(313),o=(n(3),n(158)),a=n(84),s=n(2),l=o.b.div(r||(r=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 4px;\n  padding: 6px 8px;\n  border: 1px solid ",";\n  cursor: pointer;\n  user-select: none;\n  box-sizing: border-box;\n"])),(function(e){return e.fullWidth?"100%":void 0}),(function(e){return e.backgroundColor}),(function(e){return e.color}),(function(e){return e.fillColor}));function u(e){var t=e.title,n=e.onClick,r=e.inverted,c=e.fullWidth,u=e.customFillColor,d=e.customWhiteColor,f=e.style,b=e.noHover,j=e.id,p=Object(a.a)(),O=Object(i.a)(p,2),x=(O[0],O[1]),h=Object(o.c)(),m=u||h.primary45,g=d||"#FFF",v=void 0,y=m,C=m,w=g;r&&(v=m,y=void 0,C=g,w=m);var k=x&&!b?y:v,A=x&&!b?w:C;return Object(s.jsx)(l,{id:j,backgroundColor:k,fullWidth:c,fillColor:m,color:A,style:f,onClick:n,children:t})}},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(3);var r=n(7),i=n(201),c=n(48),o=n(2),a={container:{padding:10,paddingTop:6,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},settingItem:{lineHeight:"14px",display:"flex",alignItems:"center",color:r.m}};function s(e){var t=e.sharedFS;return Object(o.jsx)("div",{style:a.container,children:Object(o.jsx)(i.a,{sharedFS:t,title:"Settings",iconComponent:c.d})})}},823:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(10),i=n(3),c=n(201),o=n(48),a=n(44),s=n(7),l=n(22),u=n(241),d=n(18),f=n(316),b=n(31),j=n(129),p=n(2),O={container:{position:"relative",padding:10,paddingTop:6,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box",height:"100%"},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.m,fontSize:12},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.m,fontSize:12,backgroundColor:s.g,borderRadius:2,padding:2,border:"1px solid ".concat(s.d)},contacts:{marginTop:8}};function x(e){var t,n=e.sailplane,x=e.sharedFS,h=Object(b.d)((function(e){return e.main.contacts})),m=null!==(t=x.current)&&void 0!==t&&t.running?Object(d.c)(x.current.identity.publicKey):null,g=Object(i.useState)(!1),v=Object(r.a)(g,2),y=v[0],C=v[1];return Object(p.jsxs)("div",{style:O.container,children:[Object(p.jsx)(c.a,{sailplane:n,title:"Contacts",iconComponent:o.a}),Object(p.jsx)("div",{style:O.toolsContainer,children:Object(p.jsx)("div",{style:O.tools,children:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(a.a,{className:"addContact",defaultColor:s.m,changeColor:s.l,iconComponent:l.q,title:"Add contact",onClick:function(){return C(!0)}})})})}),Object(p.jsxs)("div",{style:O.contacts,children:[Object(p.jsx)(u.a,{pubKey:m,myID:m},"myid"),h?h.map((function(e,t){return Object(p.jsx)(u.a,{pubKey:e.pubKey,label:e.label},t)})):null]}),Object(p.jsx)(f.a,{isVisible:y,onClose:function(){return C(!1)},contacts:h,myID:m}),Object(p.jsx)(j.a,{})]})}},826:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),i=n(86),c=(n(3),n(22)),o=(n(2046),n(2)),a={menuItem:{marginLeft:4,fontSize:14}},s=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(i.Menu,{id:"menu-id",children:[Object(o.jsxs)(i.Item,{className:"MenuItem",onClick:function(e){return e.props.handleDownload()},children:[Object(o.jsx)(c.e,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Download"})]}),Object(o.jsxs)(i.Item,{className:"MenuItem",onClick:function(e){return e.props.handleEdit()},children:[Object(o.jsx)(c.f,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Rename"})]}),Object(o.jsxs)(i.Item,{className:"MenuItem",onClick:function(e){return e.props.handleShare()},children:[Object(o.jsx)(c.r,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Share"})]}),Object(o.jsx)(i.Separator,{}),Object(o.jsxs)(i.Item,{className:"MenuItem delete",onClick:function(e){return e.props.handleDelete()},children:[Object(o.jsx)(c.s,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Delete"})]})]}),Object(o.jsxs)(i.Menu,{id:"menu-id-no-share",children:[Object(o.jsxs)(i.Item,{className:"MenuItem",onClick:function(e){return e.props.handleDownload()},children:[Object(o.jsx)(c.e,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Download"})]}),Object(o.jsxs)(i.Item,{className:"MenuItem",onClick:function(e){return e.props.handleEdit()},children:[Object(o.jsx)(c.f,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Rename"})]}),Object(o.jsx)(i.Separator,{}),Object(o.jsxs)(i.Item,{className:"MenuItem delete",onClick:function(e){return e.props.handleDelete()},children:[Object(o.jsx)(c.s,{size:16,style:a.icon}),Object(o.jsx)("span",{style:Object(r.a)({},a.menuItem),children:"Delete"})]})]})]})}},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var r=n(19),i=n(10),c=n(1),o=n.n(c),a=n(3),s=n(7),l=n(44),u=n(22),d=n(31),f=n(84),b=n(70),j=n(317),p=n(18),O=n(2);function x(e){var t=e.title,n=e.inverted,r={container:{backgroundColor:n?"#FFF":s.j,fontSize:13,padding:"1px 4px",borderRadius:4,marginRight:4,width:46,textAlign:"center",color:n?s.j:"#FFF",flexShrink:0}};return Object(O.jsx)("div",{style:r.container,children:t})}var h=n(69),m=n(64),g=n(81);function v(e){var t=e.onClose,n=e.isVisible,r=e.instance,c=e.instanceIndex,o=Object(d.c)(),l=Object(a.useState)(r.label),u=Object(i.a)(l,2),f=u[0],j=u[1],p=Object(a.useRef)(null);Object(a.useEffect)((function(){n?(p.current.focus(),p.current.select()):j(r.label)}),[n]);var x={title:{fontSize:16,color:s.m,marginBottom:8},labelTitle:{marginTop:12,marginBottom:4},input:{border:"1px solid ".concat(s.j),borderRadius:4,color:s.f,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",width:"100%",boxSizing:"border-box"},confirmBlock:{marginTop:14,display:"flex",justifyContent:"flex-end"},cancel:{marginRight:8}},v=function(){o(Object(m.f)(c,f)),t()};return Object(O.jsx)(h.a,{backgroundColor:s.g,isVisible:n,title:"Set nickname for ".concat(Object(b.c)(r.address)),body:Object(O.jsxs)("div",{style:x.body,children:[Object(O.jsx)("div",{style:x.title,children:"Nickname:"}),Object(O.jsx)("input",{ref:p,type:"text",value:f,onChange:function(e){return j(e.target.value)},autoCorrect:"off",style:x.input,placeholder:"(ex: Work sketches)",className:"textInput",onKeyPress:function(e){"Enter"===e.key&&v()}}),Object(O.jsxs)("div",{style:x.confirmBlock,children:[Object(O.jsx)(g.a,{title:"Cancel",inverted:!1,noHover:!0,customWhiteColor:s.g,style:x.cancel,onClick:t}),Object(O.jsx)(g.a,{title:"Confirm",onClick:v,inverted:!0,customWhiteColor:s.g})]})]}),onClose:t})}var y=function(e){var t=e.data,n=e.selected,c=e.onClick,h=e.onDelete,m=e.instanceIndex,g=e.onAccess,y=e.displayOnly,C=t.address,w=t.isEncrypted,k=t.label,A=Object(d.c)(),S=Object(f.a)(),D=Object(i.a)(S,2),I=D[0],E=D[1],z=Object(a.useState)(!1),F=Object(i.a)(z,2),T=F[0],B=F[1],N=Object(a.useState)(!1),R=Object(i.a)(N,2),P=R[0],Q=R[1],H=!p.u,U=n?s.j:"#FFF";E&&!n&&(U=s.g);var M=n?"#FFF":s.m,L={paddingContainer:{paddingTop:3,paddingBottom:3},outer:{backgroundColor:U,color:M,padding:6,paddingTop:6,fontFamily:"Open Sans",cursor:"pointer",borderRadius:4},container:{display:"flex",justifyContent:"space-between",alignItems:"center"},address:{fontSize:14,overflow:"hidden",width:"40%",textOverflow:"ellipsis",whiteSpace:"nowrap"},tools:{display:y?"none":"flex",justifyContent:"flex-end"},name:{fontSize:16,height:38,lineHeight:"19px",display:"flex",alignItems:"center"},icon:{marginRight:4,flexShrink:0},importedTxt:{marginLeft:6,fontSize:13},label:{fontWeight:600},nameHolder:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",lineHeight:"18px",position:"relative",top:k?-2:null}},K=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(C);case 2:Object(p.B)("Drive address copied to clipboard",A);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=[{title:"Open",onClick:function(){B(!1),c()},iconComponent:u.j},{title:"Set nickname",onClick:function(){Q(!0),B(!1)},iconComponent:u.f},{title:"Manage users",onClick:function(){g(),B(!1)},iconComponent:u.v},{title:"Copy address",onClick:function(){K(),B(!1)},iconComponent:u.d},{title:"Delete",onClick:function(){h(),B(!1)},iconComponent:u.s,forceColor:s.e}],W=Object(b.c)(C);return Object(O.jsxs)("div",{style:L.paddingContainer,ref:I,children:[Object(O.jsxs)("div",{className:"drive",style:L.outer,onClick:function(e){T||(H?B(!0):(e.stopPropagation(),c()))},children:[Object(O.jsx)(j.a,{isVisible:T,name:W,onClose:function(){return B(!1)},items:V}),Object(O.jsxs)("div",{style:L.container,children:[Object(O.jsxs)("div",{style:L.name,children:[Object(O.jsx)(u.j,{className:"shareIcon",color:M,size:18,style:L.icon}),Object(O.jsx)(x,{title:w?"private":"public",inverted:n}),Object(O.jsxs)("div",{style:L.nameHolder,children:[W,k?Object(O.jsxs)("div",{style:L.label,children:["[",k,"]"]}):null]}),!E||y||H?null:Object(O.jsx)(l.a,{className:"instanceLabel",iconComponent:u.f,defaultColor:E&&n?"#FFF":s.m,changeColor:s.f,tooltip:"Set nickname",onClick:function(){return Q(!0)}})]}),H?null:Object(O.jsxs)("div",{style:L.tools,children:[Object(O.jsx)(l.a,{className:"instanceAccess",defaultColor:M,iconComponent:u.v,size:15,changeColor:s.f,onClick:function(){return g()},tooltip:"Manage users"}),Object(O.jsx)(l.a,{className:"instanceAddressCopy",defaultColor:M,iconComponent:u.d,size:15,changeColor:s.f,tooltip:"Copy",onClick:K}),Object(O.jsx)(l.a,{className:"instanceDelete",defaultColor:M,iconComponent:u.s,tooltip:"Delete",size:15,changeColor:s.b,onClick:function(){return h()}})]})]})]}),Object(O.jsx)(v,{isVisible:P,onClose:function(){return Q(!1)},instance:t,instanceIndex:m})]})},C=n(48),w=n(129),k=n(159),A=n(116),S=n(15),D=n(199);function I(e){var t=e.pubKey,n=e.myID,r=Object(d.d)((function(e){return e.main.contacts})),i=null===r||void 0===r?void 0:r.find((function(e){return e.pubKey===t})),c={userBlock:{color:s.l,fontSize:18,fontFamily:"Open Sans",lineHeight:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:6},adminLeft:{display:"flex",justifyContent:"flex-start",alignItems:"center"},iconHolder:{marginRight:8},adminTitle:{fontSize:12,lineHeight:"12px",textAlign:"center",color:s.m,marginBottom:3},youText:{fontSize:14,fontWeight:600}};return Object(O.jsx)("div",{style:c.userBlock,children:Object(O.jsxs)("div",{style:c.adminLeft,children:[Object(O.jsx)("div",{style:c.iconHolder,children:Object(O.jsx)(D.a,{address:t,size:34,style:c.icon})}),Object(O.jsx)("div",{style:c.adminNameHolder,children:Object(O.jsxs)("div",{children:[t.slice(0,10)," ",n===t?Object(O.jsx)("span",{style:c.youText,children:"[You]"}):"",null!==i&&void 0!==i&&i.label?Object(O.jsxs)("span",{style:c.youText,children:["[",i.label,"]"]}):""]})})]})})}var E=n(241),z=n(316);function F(e){var t=e.isVisible,n=e.onClose,r=e.onSelected,c=Object(d.d)((function(e){return e.main.contacts})),o=Object(a.useState)(!1),f=Object(i.a)(o,2),b=f[0],j=f[1],p={container:{maxHeight:400},title:{fontSize:18,fontWeight:600},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.m,fontSize:12},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.m,fontSize:12,backgroundColor:s.g,borderRadius:2,padding:2,border:"1px solid ".concat(s.d)},noContacts:{marginTop:8}};return Object(O.jsx)(h.a,{positionTop:1,onClose:n,isVisible:t,title:"Contacts",body:Object(O.jsxs)("div",{style:p.container,children:[Object(O.jsx)("div",{style:p.toolsContainer,children:Object(O.jsx)("div",{style:p.tools,children:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(l.a,{className:"addContact",defaultColor:s.m,changeColor:s.l,iconComponent:u.q,title:"Add contact",onClick:function(){return j(!0)}})})})}),null!==c&&void 0!==c&&c.length?c.map((function(e,t){return Object(O.jsx)(E.a,{onClick:function(){r(e.pubKey),n()},label:e.label,pubKey:e.pubKey,hideTools:!0},t)})):Object(O.jsx)("div",{style:p.noContacts,children:"No existing contacts"}),Object(O.jsx)(z.a,{isVisible:b,onClose:function(){return j(!1)},contacts:c})]})})}var T={adminTools:{display:"flex",alignItems:"center",justifyContent:"flex-end"},messageText:{color:s.m,textAlign:"center",marginBottom:4},panel:{borderRadius:4,marginBottom:8,border:s.a,boxSizing:"border-box",backgroundColor:s.g},panelTitle:{display:"flex",justifyContent:"space-between",fontSize:15,lineHeight:"15px",marginBottom:4,textAlign:"center",color:s.l,padding:4,height:20},panelBody:{padding:6,backgroundColor:"#FFF"},third:{width:"33.3%",display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center"}};function B(e){var t=e.type,n=e.admins,c=e.addUser,d=e.users,f=e.myID,b=e.message,j=Object(a.useState)(!1),x=Object(i.a)(j,2),h=x[0],m=x[1],g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],C=v[1];return Object(O.jsxs)("div",{style:T.panel,children:[Object(O.jsxs)("div",{style:T.panelTitle,children:[h?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:T.third}),Object(O.jsxs)("div",{style:T.third,children:[Object(p.b)(t),"s"]})]}),Object(O.jsx)("div",{style:Object(S.a)(Object(S.a)(Object(S.a)({},T.adminTools),T.third),{},{justifyContent:"flex-end",width:h?"100%":"30%"}),children:n.includes(f)&&c?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(l.a,{iconComponent:u.q,title:"Add ".concat(t),changeColor:s.l,defaultColor:s.l,onClick:function(){return C(!0)}})}):null})]}),Object(O.jsx)("div",{style:T.panelBody,children:Object(O.jsx)("div",{style:T.users,children:0===(null===d||void 0===d?void 0:d.length)?Object(O.jsx)("div",{style:T.messageText,children:b}):null===d?Object(O.jsx)("div",{style:T.messageText,children:"Loading..."}):Object(O.jsx)("div",{children:d.map((function(e){return Object(O.jsx)(I,{pubKey:e,myID:f},e)}))})})}),Object(O.jsx)(F,{isVisible:y,onClose:function(){return C(!1)},onSelected:function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:m(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}function N(e){var t=e.instanceToModifyAccess,n=e.onClose,c=e.sharedFS,l=Object(a.useState)(null),u=Object(i.a)(l,2),d=u[0],f=u[1],j=Object(a.useState)(null),x=Object(i.a)(j,2),m=x[0],g=x[1],v=Object(a.useState)(null),y=Object(i.a)(v,2),C=y[0],w=y[1],k=Object(a.useState)(null),S=Object(i.a)(k,2),D=S[0],I=S[1],E=Object(a.useState)(null),z=Object(i.a)(E,2),F=z[0],T=z[1],N=Object(a.useState)(null),R=Object(i.a)(N,2),P=R[0],Q=R[1],H={body:{color:s.m}};Object(a.useEffect)((function(){!function(){var e=Object(p.r)(c.current),t=e.admins,n=e.writers,r=e.readers,i=e.myID;f(t),g(n),w(r),I(i)}()}),[t.address,c,P]);var U=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(null),Object(p.C)(t)){e.next=4;break}return T("Invalid user ID!"),e.abrupt("return");case 4:return e.next=6,c.current.access.grantWrite(Object(p.e)(t));case 6:return e.next=8,c.current.access.grantRead(Object(p.e)(t));case 8:Q(Date.now());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(null),Object(p.C)(t)){e.next=4;break}return T("Invalid user ID!"),e.abrupt("return");case 4:return e.next=6,c.current.access.grantRead(Object(p.e)(t));case 6:Q(Date.now());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d&&m?Object(O.jsx)(h.a,{isVisible:!0,title:"User permissions for ".concat(t.label||Object(b.c)(t.address)),body:Object(O.jsxs)("div",{style:H.body,children:[Object(O.jsx)(A.a,{children:d.includes(D)?"You are an admin of this drive. You have full access.":m.includes(D)?"You are an editor on this drive.":"You have view access only."}),F?Object(O.jsx)(A.a,{isError:!0,children:F}):null,Object(O.jsxs)("div",{style:H.panels,children:[Object(O.jsx)(B,{myID:D,admins:d,users:d,type:"admin"}),Object(O.jsx)(B,{myID:D,addUser:U,admins:d,users:m,type:"editor",message:"Add users to editor access"}),t.isEncrypted?Object(O.jsx)(B,{myID:D,addUser:M,admins:d,users:C,type:"viewer",message:"Add users to view access"}):null]})]}),onClose:n}):null}var R=n(201),P=n(132);function Q(e){var t=e.title,n=e.infos,r=e.onClick,i={container:{padding:8,width:"100%",boxSizing:"border-box"},inner:{overflow:"hidden",border:"1px solid ".concat(s.j),borderRadius:4},title:{backgroundColor:s.h,padding:8,color:s.l,fontWeight:400,textAlign:"center",borderBottom:"1px solid ".concat(s.j),marginBottom:8},body:{color:s.l,padding:12},infos:{marginBottom:16}};return Object(O.jsx)("div",{style:i.container,children:Object(O.jsxs)("div",{style:i.inner,children:[Object(O.jsx)("div",{style:i.title,children:t}),Object(O.jsxs)("div",{style:i.body,children:[Object(O.jsx)("div",{style:i.infos,children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(P.a,{title:e},e)}))}),Object(O.jsx)(g.a,{title:"Create ".concat(t.toLowerCase()," drive"),inverted:!0,fullWidth:!0,onClick:r})]})]})})}var H=n(47);function U(e){var t=e.isVisible,n=e.onClose,r=e.onPrivate,i=e.onPublic,c=Object(H.a)(),o={container:{},options:{display:c?"block":"flex",justifyContent:"space-between"}},a=[{title:"Private",infos:["End-to-end encrypted file data","AES 128 Encryption","Granted read access"],onClick:r},{title:"Public",infos:["Host content publicly on IPFS","Files are not encrypted","Everyone has read access"],onClick:i}];return Object(O.jsx)(h.a,{onClose:n,noPadding:c,title:"Create a new drive",body:Object(O.jsx)("div",{style:o.container,children:Object(O.jsx)("div",{style:o.options,children:a.map((function(e){return Object(O.jsx)(Q,{title:e.title,infos:e.infos,onClick:e.onClick},e.title)}))})}),isVisible:t,backgroundColor:s.g})}var M=n(196),L=n(198),K=n.n(L);function V(e){var t,n=e.onClose,c=e.isVisible,l=e.instances,f=e.sailplane,j=Object(d.c)(),p=Object(a.useState)(!1),x=Object(i.a)(p,2),v=x[0],C=x[1],w=Object(a.useState)(null),k=Object(i.a)(w,2),D=k[0],I=k[1],E=Object(a.useState)(""),z=Object(i.a)(E,2),F=z[0],T=z[1],B=Object(a.useState)(null),N=Object(i.a)(B,2),R=N[0],P=N[1],Q={addressInput:{display:"flex",alignItems:"center"},title:{fontSize:16,color:s.m,marginBottom:8},loading:{display:"flex",alignItems:"center",color:s.m},icon:{marginLeft:4},confirmBlock:{marginTop:14,display:"flex",justifyContent:"flex-end"},cancel:{marginRight:8},labelTitle:{marginTop:12,marginBottom:4},optional:{position:"relative",top:-8,left:4,fontSize:13},input:{border:"1px solid ".concat(s.j),borderRadius:4,color:s.f,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",width:"100%",boxSizing:"border-box"}},H=Object(M.a)(!v,(function(e){return L(e)}),null,"",{placeholder:"drive address",confirmTitle:"Import drive"});if(!c)return null;var U=function(){var e=Object(r.a)(o.a.mark((function e(){var t,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=R.address,r=R.manifest,i=b.c(t),j(Object(m.b)(i,t,!0,!0===r.meta.enc,F)),n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){I("Invalid address!")},!K.a.isValid(t)){e.next=14;break}if(C(!0),!l.map((function(e){return e.address})).includes(t)){e.next=8;break}return r=b.c(t),I("Drive '".concat(r,"' already exists!")),C(!1),e.abrupt("return");case 8:return e.next=10,Object(b.a)(f,t);case 10:i=e.sent,P({address:t,manifest:i}),e.next=15;break;case 14:n();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(h.a,{backgroundColor:s.g,isVisible:!0,title:"Import drive",body:Object(O.jsx)("div",{style:Q.body,children:v?R?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:Q.title,children:"Drive has been located!"}),Object(O.jsx)("div",{style:Q.loadedDrive,children:Object(O.jsx)(y,{displayOnly:!0,selected:!0,data:{address:R.address,isEncrypted:null===(t=R.manifest.meta)||void 0===t?void 0:t.enc}})}),Object(O.jsxs)("div",{style:Object(S.a)(Object(S.a)({},Q.title),Q.labelTitle),children:["Nickname",Object(O.jsx)("span",{style:Q.optional,children:"(optional)"})]}),Object(O.jsx)("input",{type:"text",onChange:function(e){return T(e.target.value)},autoCorrect:"off",style:Q.input,placeholder:"(ex: Work sketches)",className:"textInput"}),Object(O.jsxs)("div",{style:Q.confirmBlock,children:[Object(O.jsx)(g.a,{title:"Cancel",inverted:!1,noHover:!0,customWhiteColor:s.g,style:Q.cancel,onClick:n}),Object(O.jsx)(g.a,{title:"Confirm",onClick:U,inverted:!0,customWhiteColor:s.g})]})]}):Object(O.jsxs)("div",{style:Q.loading,children:["Looking for drive",Object(O.jsx)(u.l,{color:s.m,size:16,style:Q.icon,className:"rotating"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:Q.title,children:"Paste a drive address below to import it into your drives"}),D?Object(O.jsx)(A.a,{isError:!0,children:D}):null,Object(O.jsx)("div",{style:Q.addressInput,children:v?null:H})]})}),onClose:n})}var W={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",fontFamily:"Open Sans",boxSizing:"border-box",paddingTop:6,height:"100%"},icon:{cursor:"pointer",marginRight:4},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.m,fontSize:12},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.m,fontSize:12,backgroundColor:s.g,borderRadius:2,padding:2,border:"1px solid ".concat(s.d)},instances:{height:"100%"}};function X(e){var t=e.sailplane,n=e.sharedFS,c=Object(a.useState)(!1),f=Object(i.a)(c,2),j=f[0],p=f[1],x=Object(a.useState)(!1),h=Object(i.a)(x,2),g=h[0],v=h[1],A=Object(a.useState)(null),S=Object(i.a)(A,2),D=S[0],I=S[1],E=Object(d.c)(),z=Object(d.d)((function(e){return e.main})),F=z.instances,T=z.instanceIndex,B=Object(k.a)(F.length);Object(a.useEffect)((function(){B&&B<F.length&&E(Object(m.e)(F.length-1))}),[F.length,B]);var P=function(){var e=Object(r.a)(o.a.mark((function e(n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.next=3,b.b(t,{enc:n});case 3:r=e.sent,i=b.c(r),E(Object(m.b)(i,r.toString(),!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{style:W.container,children:[Object(O.jsx)(R.a,{sailplane:t,title:"Drives",iconComponent:C.k}),Object(O.jsx)("div",{style:W.toolsContainer,children:Object(O.jsx)("div",{style:W.tools,children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{className:"importInstance",defaultColor:s.m,changeColor:s.l,iconComponent:u.u,title:"Import drive",onClick:function(){return p(!0)}}),Object(O.jsx)(l.a,{className:"addInstance",defaultColor:s.m,changeColor:s.l,iconComponent:u.q,title:"Create drive",onClick:function(){return v(!0)}})]})})}),Object(O.jsx)("div",{style:W.instances,children:F.map((function(e,t){return Object(O.jsx)(y,{instanceIndex:t,data:e,selected:e===F[T],onClick:function(){E(Object(m.e)(t))},onDelete:function(){E(Object(m.d)(t))},onAccess:function(){E(Object(m.e)(t)),setTimeout((function(){return I(e)}),500)}},e.address.toString())}))}),D?Object(O.jsx)(N,{onClose:function(){return I(null)},instanceToModifyAccess:D,sharedFS:n}):null,Object(O.jsx)(U,{isVisible:g,onClose:function(){return v(!1)},onPrivate:function(){return P(!0)},onPublic:function(){return P(!1)}}),j?Object(O.jsx)(V,{sharedFS:n,onClose:function(){return p(!1)},isVisible:j,sailplane:t,instances:F}):null,Object(O.jsx)(w.a,{})]})}},833:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r=n(15),i=n(19),c=n(243),o=n(10),a=n(1),s=n.n(a),l=n(3),u=n(834),d=n(7),f=n(809),b=n.n(f),j=n(31),p=n(34),O=n(18),x=n(22),h=n(47),m=n(2);function g(e){var t=e.handleOpenUpload,n=e.isActive,i=Object(h.a)()?"Tap to upload files":"Drag files to upload or click here",c={container:{border:"2px dashed ".concat(d.j),backgroundColor:n?d.i:null,borderRadius:4,padding:18,height:n?"100%":null,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},icon:{padding:"0 6px"},dragTitle:{color:n?d.m:d.j,fontSize:16,fontWeight:400,marginTop:2},iconContainer:{display:"inline-block"},outer:{paddingTop:4,height:"100%",boxSizing:"border-box"}},o=n?d.m:d.j;return Object(m.jsx)("div",{style:c.outer,children:Object(m.jsx)("div",{style:c.container,onClick:n?null:t,children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:".5s"}),children:Object(m.jsx)(x.k,{color:o,size:20,style:Object(r.a)({},c.icon)})}),Object(m.jsx)("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:".75s"}),children:Object(m.jsx)(x.h,{color:o,size:20,style:Object(r.a)({},c.icon)})}),Object(m.jsx)("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:"1s"}),children:Object(m.jsx)(x.n,{color:o,size:20,style:Object(r.a)({},c.icon)})}),Object(m.jsx)("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:"1.25s"}),children:Object(m.jsx)(x.w,{color:o,size:20,style:Object(r.a)({},c.icon)})})]}),Object(m.jsx)("div",{style:c.dragTitle,children:n?"Drop to upload":i})]})})})}function v(e,t){var n=e.children,c=e.sharedFs,o=e.currentDirectory,a={container:{cursor:"pointer",textAlign:"center",color:d.o,fontSize:16,fontWeight:200,fontFamily:"Open Sans",outline:0,userSelect:"none",height:"100%"}},f=Object(j.c)(),x=Object(l.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(Object(p.b)({message:"Uploading"})),n=b()(t,{preserveMtime:!0}),r=t.reduce((function(e,t){return t.size+e}),0),e.prev=3,e.next=6,c.current.upload(o,n,{progress:function(e){f(Object(p.b)({message:"[".concat(Object(O.s)(e,r),"%] Uploading files")}))}});case 6:f(Object(p.b)({})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),f(Object(p.b)({message:"Missing write permissions.",isError:!0})),Object(O.f)(4e3).then((function(){return f(Object(p.b)({}))}));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[o]),h=Object(u.a)({onDrop:x,noClick:!0}),v=h.getRootProps,y=h.getInputProps,C=h.isDragActive,w=h.open;return Object(l.useImperativeHandle)(t,(function(){return{openUpload:function(){w()}}})),Object(m.jsxs)("div",Object(r.a)(Object(r.a)({},v()),{},{style:a.container,id:"dropZone",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},y()),{},{id:"fileUpload"})),C?Object(m.jsx)(g,{isActive:!0}):Object(m.jsx)("div",{children:n})]}))}v=Object(l.forwardRef)(v);var y=n(44),C=n(48),w=n(308),k=n(84);function A(e){var t=e.data,n=e.onClick,r=Object(k.a)(),i=Object(o.a)(r,2),c=i[0],a=i[1],s=t.name,l=t.isEncrypted,u=t.label,f=l?x.m:x.t,b={container:{backgroundColor:a?d.m:"#FFF",color:a?"#FFF":d.m,padding:"6px 6px",display:"flex",alignItems:"center",minWidth:9*s.length,zIndex:200},icon:{marginRight:4}};return Object(m.jsxs)("div",{className:"smallInstanceItem",style:b.container,ref:c,onClick:n,children:[Object(m.jsx)(x.j,{color:a?"#FFF":d.m,size:16,style:b.icon}),Object(m.jsx)(f,{color:a?"#FFF":d.m,size:14,style:b.icon}),u||s]})}var S=n(64);function D(e){Object(w.a)(e);var t=Object(j.d)((function(e){return e.main})),n=Object(j.c)(),r=t.instances,i=t.instanceIndex,c=r[i],a=Object(l.useState)(!1),s=Object(o.a)(a,2),u=s[0],f=s[1],b=r.filter((function(e){return e!==c})),p={container:{display:r.length>1?"flex":"none",alignItems:"center",position:"relative",marginRight:6,border:"1px solid ".concat(d.d),borderBottomWidth:u?0:1,color:d.m,padding:"3px 6px",borderRadius:"4px 4px ".concat(u?0:4,"px ").concat(u?0:4,"px"),fontSize:14,fontWeight:400},menu:{backgroundColor:"#FFF",position:"absolute",minWidth:196,top:25,left:-1,border:"1px solid ".concat(d.d),color:d.m,zIndex:2},icon:{marginRight:4}},O=null!==c&&void 0!==c&&c.isEncrypted?x.m:x.t;return Object(m.jsxs)("span",{style:p.container,onClick:function(){b.length&&f(!u)},children:[Object(m.jsx)(x.j,{color:d.m,size:16,style:p.icon}),Object(m.jsx)(O,{color:d.m,size:14,style:p.icon}),Object(m.jsx)("span",{id:"currentInstanceSelector",children:(null===c||void 0===c?void 0:c.label)||(null===c||void 0===c?void 0:c.name)}),u?Object(m.jsx)("div",{style:p.menu,children:b.map((function(e,t){return Object(m.jsx)(A,{data:e,onClick:function(){var t=r.findIndex((function(t){return t===e}));n(Object(S.e)(t))}},t)}))}):null]})}var I={container:{display:"flex",flexDirection:"row",alignItems:"center",fontSize:16,color:d.m,fontFamily:"Open Sans",fontWeight:400,userSelect:"none",flexWrap:"wrap"},icon:{marginRight:4},root:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",fontWeight:400},folderIcon:{marginLeft:4,marginRight:4},folderName:{fontWeight:400,cursor:"pointer",marginLeft:2,marginRight:2}};function E(e){var t=e.currentDirectory,n=e.setCurrentDirectory,r=t.split("/").slice(2);return Object(m.jsxs)("div",{style:I.container,children:[Object(m.jsxs)("div",{onClick:function(){return n("/r")},style:I.root,children:[Object(m.jsx)(C.c,{color:d.m,size:16,style:I.icon}),Object(m.jsx)(D,{})," /"]}),r.map((function(e,t){for(var i="/r",c=0;c<=t;c++)i+="/".concat(r[c]);return Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{style:I.folderName,className:"folderName",onClick:function(){n(i)},children:e}),"/"]},e)}))]})}var z=n(196),F={tools:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",fontFamily:"Open Sans",marginTop:4,marginBottom:10},leftTools:{display:"flex",alignItems:"center"},rightTools:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}};function T(e){var t=e.currentDirectory,n=e.sharedFs,r=e.setCurrentDirectory,c=e.handleOpenUpload,a=e.isEncrypted,u=Object(l.useState)(!1),f=Object(o.a)(u,2),b=f[0],g=f[1],v=Object(j.c)(),C=t.split("/"),w=C[C.length-1],k=Object(h.a)(),A=Object(O.g)(n.current),S=function(){var e=Object(i.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.current.mkdir(t,r);case 3:g(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Mkdir error",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D=Object(z.a)(b,(function(e){return S(e)}),(function(){return g(!1)}),"",{placeholder:"folder name"});return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{style:F.tools,children:[Object(m.jsx)("div",{style:F.leftTools,children:k&&b?null:Object(m.jsx)(E,{currentDirectory:t,setCurrentDirectory:r})}),Object(m.jsxs)("div",{style:F.rightTools,children:[b?null:Object(m.jsxs)(m.Fragment,{children:["/r"!==t?Object(m.jsx)(y.a,{id:"folderShare",disabled:a,iconComponent:x.r,size:18,changeColor:a?"#DDD":d.l,onClick:function(){v(Object(p.a)({name:w,path:t,pathType:"dir"}))}}):null,Object(m.jsx)(y.a,{iconComponent:x.u,size:18,changeColor:d.l,onClick:function(){c()}}),A?Object(m.jsx)(y.a,{id:"addFolder",iconComponent:x.i,size:18,changeColor:d.l,onClick:function(){return g(!0)}}):null]}),b?Object(m.jsx)(m.Fragment,{children:D}):null]})]})})}var B=n(242),N=n(129),R=n(69),P={filename:{color:d.m},input:{border:"1px solid ".concat(d.j),borderRadius:4,color:d.f,fontSize:14,fontWeight:200,padding:4,display:"inline-flex",flexGrow:2,marginTop:8},flex:{display:"flex"},link:{marginTop:8,color:"".concat(d.m," !important"),fontSize:14},loading:{display:"flex",alignItems:"center",color:d.m,marginTop:10,fontSize:14},icon:{marginRight:4},nameHolder:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Q=[{name:"default",icon:x.g},{name:"image",icon:x.k},{name:"audio",icon:x.n}];function H(e){var t=e.sharedFs,n=Object(j.c)(),r=Object(j.d)((function(e){return e.tempData.shareData})),c=Object(l.useRef)(null),a=r.CID,u=r.path,f=r.name,b=r.pathType,h=Object(l.useState)(0),g=Object(o.a)(h,2),v=g[0],y=g[1],C=Object(l.useState)(a),w=Object(o.a)(C,2),k=w[0],A=w[1],S=Object(l.useState)(null),D=Object(o.a)(S,2),I=D[0],E=D[1];if(Object(l.useEffect)((function(){f?A(a):(A(null),y(0))}),[f,a]),Object(l.useEffect)((function(){var e=function(){var e=Object(i.a)(s.a.mark((function e(){var n,r,i,c,o,a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.read(u);case 2:n=e.sent,t.current.encrypted&&"dir"!==b&&(r=t.current.fs.read(u),i=r.key,c=r.iv,E({key:i,iv:c})),A(n),"dir"===b&&(o=t.current.fs.ls(u).map((function(e){var n=t.current.fs.content(e),r=u.split("/");return{path:e,name:r[r.length-1],type:n}})),a=Object(O.t)(o),l=Q.findIndex((function(e){return e.name===a})),y(l));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!k&&u?e():c.current&&c.current.select()}),[k,u]),!u)return null;var z="".concat(window.location.origin+window.location.pathname,"#/download/").concat(encodeURIComponent(k),"/").concat(encodeURIComponent(u),"/").concat(Q[v].name);null!==I&&void 0!==I&&I.key&&(z="".concat(window.location.origin+window.location.pathname,"#/download/").concat(encodeURIComponent(k),"/").concat(encodeURIComponent(I.iv),"/").concat(encodeURIComponent(I.key),"/").concat(encodeURIComponent(u),"/").concat(Q[v].name));var F=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(z);case 2:Object(O.B)("Share link copied to clipboard",n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(R.a,{title:"Share options",onClose:function(){return n(Object(p.a)({}))},isVisible:u,body:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{style:P.nameHolder,children:[Object(m.jsx)("div",{style:P.filename,children:f}),Object(m.jsx)("div",{})]}),k?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{style:P.flex,children:Object(m.jsx)("input",{ref:c,style:P.input,type:"text",value:z,readOnly:!0})}),Object(m.jsx)("div",{style:P.link,children:Object(m.jsx)("a",{href:"#",className:"link",onClick:F,children:"Copy link"})})]}):Object(m.jsxs)("div",{style:P.loading,children:[Object(m.jsx)(x.l,{color:d.m,size:16,style:P.icon,className:"rotating"}),"Loading share link..."]})]})})}var U=n(200);function M(e){var t=e.data,n=e.sharedFs,i=e.setCurrentDirectory,c=e.ipfs,o=e.fileIndex,a=e.isParent,s=e.onIconClicked;return Object(m.jsx)(B.b,{draggableId:t.path,index:o,children:function(e,l){var u=e.innerRef,d=e.draggableProps,f=e.dragHandleProps;return Object(m.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({ref:u},d),f),{},{style:Object(O.m)(d.style,l),children:Object(m.jsx)(U.a,{sharedFs:n,setCurrentDirectory:i,isParent:a,fileIndex:o,ipfs:c,data:t,snapshot:l,onIconClicked:s})}))}})}var L=n(311),K="./empty.png",V={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",display:"flex",flexDirection:"column",fontFamily:"Open Sans",boxSizing:"border-box",height:"100%"},fileHeader:{marginTop:10,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(d.i),paddingBottom:10,marginBottom:4,userSelect:"none"},fileHeaderItem:{width:"100%",color:d.k,fontSize:12,letterSpacing:1.08,textAlign:"left"},files:{backgroundColor:"#FFF"},dropContainer:{display:"flex",flexDirection:"column",alignItems:"stretch",flexGrow:2,opacity:1,height:"100%",overflowY:"auto"}};function W(e){var t=e.sharedFs,n=e.ipfs,a=e.directoryContents,u=e.setCurrentDirectory,d=e.currentDirectory,f=e.isEncrypted,b=Object(h.a)(),x=Object(l.useRef)(null),y=Object(O.D)(a),C=d.split("/"),w=C.slice(0,C.length-1).join("/"),k=Object(l.useState)(!1),A=Object(o.a)(k,2),S=A[0],D=A[1],I=Object(l.useState)(null),E=Object(o.a)(I,2),z=E[0],F=E[1],R=Object(l.useState)(""),P=Object(o.a)(R,2),Q=P[0],U=P[1],W=Object(l.useState)(""),X=Object(o.a)(W,2),q=X[0],G=X[1],Y=Object(l.useRef)({}),Z=Object(l.useRef)({}),J=Object(j.c)(),_=function(e){var t=e.type,n=e.name;return"file"===t&&Object(O.z)(Object(O.i)(n))},$=function(e){var t=y.filter(_).map((function(e){return e.path})),n=Object(c.a)(new Set([].concat(Object(c.a)(t),[e]))).sort(O.a),r=n.indexOf(e);return{prev:n[(r+n.length-1)%n.length],next:n[(r+1)%n.length]}},ee=function(e,t){return function(n){return e===Z.current&&t===Y.current&&n()}},te=function(e){return function(t,n){return e((function(){return G(t===n?"":"Loading... [".concat(Object(O.s)(t,n),"%]"))}))}},ne=function(){var e=Object(i.a)(s.a.mark((function e(n){var r,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now(),Z.current=n,Y.current=r,i=ee(n,r),F(null),i((function(){return U(t.current.fs.pathName(n))})),e.next=8,t.current.cat(n,{handleUpdate:te(i)}).data();case 8:c=e.sent,i((function(){return F(window.URL.createObjectURL(new Blob([c])))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path;(t=t||null)?ne(t):F(t),D(Boolean(t))};return Object(m.jsxs)("div",{style:V.container,children:[S&&Object(m.jsx)(L.a,{prevSrc:K,nextSrc:K,mainSrc:z,onMovePrevRequest:function(){return ne($(Z.current).prev)},onMoveNextRequest:function(){return ne($(Z.current).next)},onCloseRequest:function(){return re(!1)},imageTitle:Q,imageCaption:q}),Object(m.jsx)(T,{currentDirectory:d,sharedFs:t,setCurrentDirectory:u,isEncrypted:f,handleOpenUpload:function(){x.current.openUpload()}}),Object(m.jsxs)("div",{style:V.fileHeader,children:[Object(m.jsx)("div",{style:Object(r.a)(Object(r.a)({},V.fileHeaderItem),{},{paddingLeft:12}),children:"Name"}),b?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{style:Object(r.a)(Object(r.a)({},V.fileHeaderItem),{},{textAlign:"right"}),children:"Size"}),Object(m.jsx)("div",{style:Object(r.a)(Object(r.a)({},V.fileHeaderItem),{},{textAlign:"right"}),children:"Modified"})]}),Object(m.jsx)("div",{style:V.fileHeaderItem})]}),Object(m.jsx)("div",{style:V.dropContainer,children:Object(m.jsx)(v,{sharedFs:t,currentDirectory:d,ref:x,children:Object(m.jsx)(B.a,{onDragEnd:function(){var e=Object(i.a)(s.a.mark((function e(n){var r,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.combine,i=n.draggableId,!r){e.next=14;break}if(c=t.current.fs.pathName(i),"dir"===t.current.fs.content(r.draggableId)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,t.current.move(n.draggableId,n.combine.draggableId,c);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),J(Object(p.b)({message:"failed to move ".concat(n.draggableId),isError:!0})),Object(O.f)(2e3).then((function(){return J(Object(p.b)({}))}));case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),children:Object(m.jsx)(B.c,{droppableId:"droppable-1",type:"fileblock",isCombineEnabled:!0,children:function(e,i){return Object(m.jsxs)("div",{style:V.filesContainer,children:["/r"!==d?Object(m.jsx)(M,{fileIndex:0,isParent:!0,data:{path:w,type:"dir"},sharedFs:t,ipfs:n,setCurrentDirectory:u},w):null,Object(m.jsxs)("div",Object(r.a)(Object(r.a)({ref:e.innerRef,style:{}},e.droppableProps),{},{children:[a.length?Object(m.jsx)("div",{style:V.files,children:y.map((function(e,r){return Object(m.jsx)(M,{fileIndex:r+1,data:e,sharedFs:t,ipfs:n,setCurrentDirectory:u,onIconClicked:_(e)?function(){return re(e)}:null},e.path)}))}):Object(m.jsx)(g,{handleOpenUpload:function(){x.current.openUpload()}}),Object(m.jsx)("span",{style:{display:"none"},children:e.placeholder})]}))]})}})})})}),Object(m.jsx)(N.a,{}),Object(m.jsx)(H,{sharedFs:t})]})}},835:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(15),i=n(10),c=n(3),o=n(129),a=n(7),s=n(19),l=n(1),u=n.n(l),d=n(18),f=n(2);function b(e){var t=e.file,n=e.onLoadURL,r=e.fileIndex,o=e.onClick,l=Object(c.useState)(null),b=Object(i.a)(l,2),j=b[0],p=b[1],O=Object(c.useState)(0),x=Object(i.a)(O,2),h=x[0],m=x[1],g={container:{padding:8,color:a.m,fontSize:14},img:{padding:8,background:"center/cover url(".concat(j,")"),minWidth:140,minHeight:200,justifyContent:"center",alignItems:"center",display:"flex",cursor:"pointer"}};function v(){return(v=Object(s.a)(u.a.mark((function e(){var i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.h)(t,(function(e,t){m(Object(d.s)(e,t))}));case 3:i=e.sent,c=window.URL.createObjectURL(i),p(c),n(c,r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err filetoblob",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]),Object(f.jsx)("div",{style:g.container,children:Object(f.jsx)("div",{className:"imageGalleryBlock",style:g.img,onClick:function(){return o()},children:j?null:Object(f.jsxs)("div",{children:[h,"%"]})})})}var j=n(311);n(807);function p(e){var t=e.files,n=Object(c.useState)(!1),r=Object(i.a)(n,2),o=r[0],a=r[1],s=Object(c.useState)(0),l=Object(i.a)(s,2),u=l[0],p=l[1],O=Object(c.useState)(new Array(1e3)),x=Object(i.a)(O,2),h=x[0],m=x[1],g=Object(d.j)(t);return Object(f.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[o&&h[u]?Object(f.jsx)(j.a,{mainSrc:h[u],nextSrc:h[u+1],prevSrc:h[u-1],onMoveNextRequest:function(){return p(u+1)},onMovePrevRequest:function(){return p(u-1)},onCloseRequest:function(){return a(!1)}}):null,g?g.map((function(e,t){return Object(f.jsx)(b,{file:e,fileIndex:t,onClick:function(){h[t]&&(p(t),a(!0))},onLoadURL:function(e){var n=h;n[t]=e,m(n)}},t)})):null]})}var O=n(309),x=n(200),h=n(47);function m(e){var t=e.currentAudio,n=e.setPlaying,r={outer:{width:"100%",backgroundColor:a.i,padding:18,borderRadius:4,boxShadow:"rgb(70, 145, 191) 0px 0px 4px",marginTop:10,marginBottom:8},container:{width:"100%",color:"#FFF",backgroundColor:a.j,borderRadius:4,display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:10,height:50,boxShadow:"1px 2px 3px #4691bfad inset"},name:{fontFamily:"MuseoModerno",lineHeight:"16px",fontWeight:"500",fontStyle:"italic",textAlign:"center"},audio:{width:"100%",userSelect:"none",outline:0,boxShadow:"0px 0px 2px ".concat(a.l),borderRadius:30}},i=Object(c.useRef)(null),o={filename:"Not Playing"};return t&&(o=t),Object(f.jsxs)("div",{style:r.outer,children:[Object(f.jsx)("div",{style:r.container,children:Object(f.jsx)("div",{style:r.name,children:d.w?Object(f.jsx)("marquee",{scrollamount:4,behavior:"scroll",children:o.filename?o.filename:"Not playing"}):Object(f.jsx)("div",{children:o.filename?o.filename:"Not playing"})})}),Object(f.jsx)("audio",{ref:i,style:r.audio,onPlay:function(){n(!0)},onPause:function(){n(!1)},onEnded:function(){n(!1)},autoPlay:!0,src:o.url,controls:!0})]})}var g=n(159),v=n(106),y=n(31),C=n(34),w=n(22);function k(e){var t=e.files,n=e.ipfs,o={container:{display:"flex",width:"100%",justifyContent:"center",flexWrap:"wrap"},fileContainer:{width:"100%"},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(a.i),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:a.k,fontSize:12,letterSpacing:1.08,textAlign:"left"}},l=Object(y.c)(),b=Object(c.useState)(-1),j=Object(i.a)(b,2),p=j[0],O=j[1],k=Object(c.useState)(new Array(1e3)),A=Object(i.a)(k,2),S=A[0],D=A[1],I=Object(c.useState)(!1),E=Object(i.a)(I,2),z=E[0],F=E[1],T=Object(g.a)(p),B=t?t.filter((function(e){var t=Object(d.i)(e.name);return Object(d.x)(t)})):null,N=Object(h.a)(),R=Object(d.D)(B);function P(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(t,(function(e,t){l(Object(C.b)({message:"[".concat(Object(d.s)(e,t),"%] Downloading audio")}))}));case 2:return n=e.sent,l(Object(C.b)({})),r=window.URL.createObjectURL(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){var e=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T!==p){e.next=2;break}return e.abrupt("return");case 2:if(S[p]){e.next=11;break}if(t=R[p]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,P(t);case 8:n=e.sent,r=Object(v.a)(S,(function(e){e[p]=n})),D(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p,S,R]);var H=R[p],U=S[p],M={filename:null===H||void 0===H?void 0:H.name,url:U};return Object(f.jsxs)("div",{style:o.container,children:[Object(f.jsx)(m,{currentAudio:M,setPlaying:F}),R?Object(f.jsxs)("div",{style:o.fileContainer,children:[Object(f.jsxs)("div",{style:o.fileHeader,children:[Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},o.fileHeaderItem),{},{paddingLeft:12}),children:"Name"}),N?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},o.fileHeaderItem),{},{textAlign:"right"}),children:"Size"}),Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},o.fileHeaderItem),{},{textAlign:"right"}),children:"Modified"})]}),Object(f.jsx)("div",{style:o.fileHeaderItem})]}),R.map((function(e,t){return Object(f.jsx)(x.a,{forceIcon:!0===z&&p===t?w.o:w.p,data:e,setCurrentDirectory:function(){},readOnly:!0,ipfs:n,onIconClicked:function(){t!==p&&O(t)}})}))]}):null]})}var A={container:{position:"relative",padding:10,paddingTop:20,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},filename:{color:a.m,fontSize:20,textAlign:"center",borderBottom:"1px solid ".concat(a.i),paddingBottom:6,marginBottom:6},fileSize:{fontSize:14,textAlign:"center",color:a.m},downloadButton:{display:"inline-block",backgroundColor:a.m,color:"#FFF",borderRadius:4,padding:12,marginTop:10,cursor:"pointer"},icon:{marginRight:4},passwordContainer:{display:"inline-flex",alignItems:"center",marginTop:10},downloadButtonHolder:{textAlign:"center",marginBottom:8},previewBlock:{display:"flex",justifyContent:"center",marginTop:10},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(a.i),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:a.k,fontSize:12,letterSpacing:1.08,textAlign:"left"}};function S(e){var t=e.ready,n=e.path,a=e.handleDownload,s=e.downloadComplete,l=e.displayType,u=e.files,b=e.fileInfo,j=e.fileBlob,m=e.ipfs,g=n.split("/"),v=g[g.length-1],y=Object(c.useState)(!1),C=Object(i.a)(y,2),w=C[0],S=C[1],D=Object(h.a)(),I=Object(d.D)(u);return Object(f.jsxs)("div",{style:A.container,children:[Object(f.jsx)("div",{children:t?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:A.filename,children:v}),Object(f.jsx)("div",{style:A.downloadButtonHolder,children:Object(f.jsx)("div",{style:A.downloadButton,onClick:function(){S(!0),a()},children:w&&!s?"Fetching download...":"Download now"})}),null!==b&&void 0!==b&&b.size?Object(f.jsx)("div",{style:A.fileSize,children:Object(d.v)(b.size)}):null,j?Object(f.jsx)("div",{style:A.previewBlock,children:Object(f.jsx)("div",{style:A.preview,children:Object(f.jsx)(O.a,{blob:j,filename:v,size:"large"})})}):null,"default"!==l?Object(f.jsxs)("div",{children:["image"===l?Object(f.jsx)(p,{files:u}):null,"audio"===l?Object(f.jsx)(k,{files:u,ipfs:m}):null]}):null,I.length&&"audio"!==l?Object(f.jsxs)("div",{style:A.fileContainer,children:[Object(f.jsxs)("div",{style:A.fileHeader,children:[Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},A.fileHeaderItem),{},{paddingLeft:12}),children:"Name"}),D?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},A.fileHeaderItem),{},{textAlign:"right"}),children:"Size"}),Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},A.fileHeaderItem),{},{textAlign:"right"}),children:"Modified"})]}),Object(f.jsx)("div",{style:A.fileHeaderItem})]}),I.map((function(e){return Object(f.jsx)(x.a,{data:e,setCurrentDirectory:function(){},readOnly:!0,ipfs:m},e.name)}))]}):null]}):Object(f.jsx)("div",{})}),Object(f.jsx)(o.a,{})]})}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(3);var r=n(197),i=n(7),c=n.p+"static/media/intro1-2.99ce845c.png",o=n(132),a=n(81),s=n(47),l=n(2);function u(e){var t=e.isVisible,n=e.onClose,u=Object(s.a)(),d={container:{display:u?"block":"flex",justifyContent:"space-between",color:i.l,fontFamily:"Open Sans",padding:12,overflow:"hidden"},title:{fontSize:23,fontWeight:600},subTitle:{marginTop:8,marginBottom:12},image:{width:300,borderRadius:8,boxShadow:"0 0px 14px hsla(0, 0%, 0%, 0.2)"},imageContainer:{display:u?"none":null,position:"relative",height:300,width:300},left:{padding:"4px 10px",paddingRight:40},modal:{maxWidth:800,backgroundColor:i.g,borderRadius:8},bold:{fontWeight:600},buttons:{marginTop:18}};return Object(l.jsx)(r.a,{isVisible:t,style:d.modal,children:Object(l.jsxs)("div",{style:d.container,children:[Object(l.jsxs)("div",{style:d.left,children:[Object(l.jsxs)("div",{style:d.title,children:["Share files for free. ",Object(l.jsx)("br",{})," No sign up needed :)"]}),Object(l.jsxs)("div",{style:d.subTitle,children:["Upload files to private file ",Object(l.jsx)("span",{style:d.bold,children:"drives"}),". Share drive access with friends so they can upload too!"]}),Object(l.jsxs)("div",{style:d.items,children:[Object(l.jsx)(o.a,{title:"Upload any type of file"}),Object(l.jsx)(o.a,{title:"Collaborate with others in shared drives"}),Object(l.jsx)(o.a,{title:"Create multiple drives for different occasions"}),Object(l.jsx)(o.a,{title:"Files are stored in, and shared directly between browsers"}),Object(l.jsx)(o.a,{title:"Works best with small to medium sized files"})]}),Object(l.jsx)("div",{style:d.buttons,children:Object(l.jsx)(a.a,{title:"Open drive",onClick:n})})]}),Object(l.jsx)("div",{style:d.imageContainer,children:Object(l.jsx)("img",{style:d.image,src:c,alt:"Intro image 1"})})]})})}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(10),i=n(3);function c(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(i.useCallback)((function(){return c(!0)}),[]),a=Object(i.useCallback)((function(){return c(!1)}),[]),s=Object(i.useRef)();return[Object(i.useCallback)((function(e){s.current&&(s.current.removeEventListener("mouseenter",o),s.current.removeEventListener("mouseleave",a)),s.current=e,s.current&&(s.current.addEventListener("mouseenter",o),s.current.addEventListener("mouseleave",a))}),[o,a]),n]}},843:function(e,t,n){},856:function(e,t){},857:function(e,t){},877:function(e,t){},879:function(e,t){},888:function(e,t){},890:function(e,t){},929:function(e,t){},937:function(e,t){}},[[2053,2,3]]]);
//# sourceMappingURL=main.53d2a75c.chunk.js.map